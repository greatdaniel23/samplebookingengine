<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Admin Dashboard</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        :root {
            --hotel-gold: #B8860B;
            --hotel-cream: #FAF7F0;  
            --hotel-bronze: #8B4513;
            --hotel-navy: #2C3E50;
        }
        
        .btn-hotel-primary {
            background-color: var(--hotel-gold);
            color: white;
            border: 1px solid var(--hotel-gold);
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.2s;
        }
        
        .btn-hotel-primary:hover {
            background-color: #996D0A;
        }
        
        .btn-hotel-secondary {
            background-color: var(--hotel-cream);
            color: var(--hotel-navy);
            border: 1px solid var(--hotel-gold);
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.2s;
        }
        
        .text-hotel-navy { color: var(--hotel-navy); }
        .text-hotel-gold { color: var(--hotel-gold); }
        .text-hotel-bronze { color: var(--hotel-bronze); }
        .bg-hotel-cream { background-color: var(--hotel-cream); }
        .bg-hotel-gold { background-color: var(--hotel-gold); }
        .border-hotel-gold { border-color: var(--hotel-gold); }
    </style>
</head>
<body>
    <div id="admin-root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Simple auth check
        function useAuth() {
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                const adminLoggedIn = sessionStorage.getItem('adminLoggedIn');
                if (adminLoggedIn === 'true') {
                    setIsAuthenticated(true);
                }
                setLoading(false);
            }, []);

            const logout = () => {
                sessionStorage.removeItem('adminLoggedIn');
                sessionStorage.removeItem('adminUser');
                window.location.href = 'admin-login.html';
            };

            return { isAuthenticated, loading, logout };
        }

        // Admin Dashboard Component
        function AdminDashboard() {
            const { isAuthenticated, loading, logout } = useAuth();
            const [activeSection, setActiveSection] = useState('overview');

            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center">
                        <div className="text-center">
                            <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-600 mx-auto"></div>
                            <p className="mt-4 text-gray-600">Loading admin dashboard...</p>
                        </div>
                    </div>
                );
            }

            if (!isAuthenticated) {
                window.location.href = 'admin-login.html';
                return null;
            }

            return (
                <div className="min-h-screen bg-gray-50">
                    {/* Header */}
                    <header className="bg-white shadow-sm border-b">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex justify-between items-center py-4">
                                <div className="flex items-center">
                                    <div className="w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center mr-3">
                                        <svg className="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                                        </svg>
                                    </div>
                                    <h1 className="text-xl font-semibold text-gray-900">Hotel Admin Dashboard</h1>
                                </div>
                                <div className="flex items-center space-x-4">
                                    <span className="text-sm text-gray-600">
                                        Welcome, {sessionStorage.getItem('adminUser')}
                                    </span>
                                    <button 
                                        onClick={logout}
                                        className="text-sm text-red-600 hover:text-red-800 transition-colors"
                                    >
                                        Logout
                                    </button>
                                </div>
                            </div>
                        </div>
                    </header>

                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        {/* Navigation Tabs */}
                        <div className="mb-8">
                            <nav className="flex space-x-8">
                                {[
                                    { id: 'overview', name: 'Overview', icon: 'ðŸ“Š' },
                                    { id: 'bookings', name: 'Bookings', icon: 'ðŸ“…' },
                                    { id: 'rooms', name: 'Rooms', icon: 'ðŸ¨' },
                                    { id: 'packages', name: 'Packages', icon: 'ðŸ“¦' },
                                    { id: 'villa', name: 'Villa Info', icon: 'ðŸ–ï¸' },
                                    { id: 'business', name: 'Business Details', icon: 'ðŸ¢' },
                                    { id: 'settings', name: 'Settings', icon: 'âš™ï¸' }
                                ].map((tab) => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveSection(tab.id)}
                                        className={`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${
                                            activeSection === tab.id
                                                ? 'bg-yellow-100 text-yellow-800 border border-yellow-300'
                                                : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'
                                        }`}
                                    >
                                        <span className="mr-2">{tab.icon}</span>
                                        {tab.name}
                                    </button>
                                ))}
                            </nav>
                        </div>

                        {/* Content Area */}
                        <div className="bg-white rounded-lg shadow">
                            {activeSection === 'overview' && <OverviewSection />}
                            {activeSection === 'bookings' && <BookingsSection />}
                            {activeSection === 'rooms' && <RoomsSection />}
                            {activeSection === 'packages' && <PackagesSection />}
                            {activeSection === 'villa' && <VillaInfoSection />}
                            {activeSection === 'business' && <BusinessDetailsSection />}
                            {activeSection === 'settings' && <SettingsSection />}
                        </div>
                    </div>
                </div>
            );
        }

        // Overview Section
        function OverviewSection() {
            return (
                <div className="p-6">
                    <h2 className="text-2xl font-bold text-gray-900 mb-6">Dashboard Overview</h2>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div className="bg-blue-50 p-6 rounded-lg">
                            <div className="flex items-center">
                                <div className="p-2 bg-blue-100 rounded-lg">
                                    <svg className="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                </div>
                                <div className="ml-4">
                                    <p className="text-sm font-medium text-blue-600">Total Bookings</p>
                                    <p className="text-2xl font-bold text-blue-900">23</p>
                                </div>
                            </div>
                        </div>

                        <div className="bg-green-50 p-6 rounded-lg">
                            <div className="flex items-center">
                                <div className="p-2 bg-green-100 rounded-lg">
                                    <svg className="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                                    </svg>
                                </div>
                                <div className="ml-4">
                                    <p className="text-sm font-medium text-green-600">Available Rooms</p>
                                    <p className="text-2xl font-bold text-green-900">5</p>
                                </div>
                            </div>
                        </div>

                        <div className="bg-yellow-50 p-6 rounded-lg">
                            <div className="flex items-center">
                                <div className="p-2 bg-yellow-100 rounded-lg">
                                    <svg className="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                                    </svg>
                                </div>
                                <div className="ml-4">
                                    <p className="text-sm font-medium text-yellow-600">Active Packages</p>
                                    <p className="text-2xl font-bold text-yellow-900">6</p>
                                </div>
                            </div>
                        </div>

                        <div className="bg-purple-50 p-6 rounded-lg">
                            <div className="flex items-center">
                                <div className="p-2 bg-purple-100 rounded-lg">
                                    <svg className="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                                    </svg>
                                </div>
                                <div className="ml-4">
                                    <p className="text-sm font-medium text-purple-600">Revenue</p>
                                    <p className="text-2xl font-bold text-purple-900">$12,450</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="bg-gray-50 p-6 rounded-lg">
                        <h3 className="text-lg font-semibold text-gray-900 mb-4">Quick Actions</h3>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            <button className="p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-left" onClick={() => setActiveSection('villa')}>
                                <h4 className="font-medium text-gray-900">Villa Information</h4>
                                <p className="text-sm text-gray-600 mt-1">Edit villa details, images, and amenities</p>
                            </button>
                            <a href="admin-reports.html" className="p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-left block">
                                <h4 className="font-medium text-gray-900">View Reports</h4>
                                <p className="text-sm text-gray-600 mt-1">Access detailed booking and revenue reports</p>
                            </a>
                            <button className="p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-left" onClick={() => setActiveSection('bookings')}>
                                <h4 className="font-medium text-gray-900">Manage Bookings</h4>
                                <p className="text-sm text-gray-600 mt-1">View and edit current bookings</p>
                            </button>
                            <button className="p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-left" onClick={() => setActiveSection('business')}>
                                <h4 className="font-medium text-gray-900">Business Details</h4>
                                <p className="text-sm text-gray-600 mt-1">Edit hotel information and settings</p>
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // Bookings Management Section
        function BookingsSection() {
            const [bookings, setBookings] = useState([]);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                loadBookings();
            }, []);

            const loadBookings = async () => {
                try {
                    const response = await fetch('/api/bookings');
                    const data = await response.json();
                    setBookings(data.success ? data.data : []);
                } catch (error) {
                    console.error('Error loading bookings:', error);
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="p-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Bookings Management</h2>
                        <div className="flex gap-2">
                            <button className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                Add Booking
                            </button>
                            <a 
                                href="admin-reports.html" 
                                className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors"
                            >
                                View Reports
                            </a>
                        </div>
                    </div>

                    {loading ? (
                        <div className="text-center py-8">Loading bookings...</div>
                    ) : (
                        <div className="overflow-x-auto">
                            <table className="min-w-full bg-white border border-gray-200">
                                <thead className="bg-gray-50">
                                    <tr>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Guest</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Room</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Dates</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Total</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-gray-200">
                                    {bookings.slice(0, 10).map((booking, index) => (
                                        <tr key={index} className="hover:bg-gray-50">
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                                {booking.first_name} {booking.last_name}
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                                {booking.room_id}
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                                {booking.check_in} to {booking.check_out}
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap">
                                                <span className={`px-2 py-1 text-xs rounded-full ${
                                                    booking.status === 'confirmed' ? 'bg-green-100 text-green-800' :
                                                    booking.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :
                                                    'bg-red-100 text-red-800'
                                                }`}>
                                                    {booking.status}
                                                </span>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                                ${booking.total_price}
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <button className="text-blue-600 hover:text-blue-900 mr-2">Edit</button>
                                                <button className="text-red-600 hover:text-red-900">Delete</button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    )}
                </div>
            );
        }

        // Rooms Management Section
        function RoomsSection() {
            const [rooms, setRooms] = useState([]);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                loadRooms();
            }, []);

            const loadRooms = async () => {
                try {
                    const response = await fetch('/api/rooms');
                    const data = await response.json();
                    setRooms(data.success ? data.data : []);
                } catch (error) {
                    console.error('Error loading rooms:', error);
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="p-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Rooms Management</h2>
                        <button className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            Add Room
                        </button>
                    </div>

                    {loading ? (
                        <div className="text-center py-8">Loading rooms...</div>
                    ) : (
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {rooms.map((room) => (
                                <div key={room.id} className="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
                                    <div className="flex justify-between items-start mb-4">
                                        <h3 className="text-lg font-semibold text-gray-900">{room.name}</h3>
                                        <span className={`px-2 py-1 text-xs rounded-full ${
                                            room.available ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                        }`}>
                                            {room.available ? 'Available' : 'Unavailable'}
                                        </span>
                                    </div>
                                    <div className="space-y-2 text-sm text-gray-600 mb-4">
                                        <p><span className="font-medium">Type:</span> {room.type}</p>
                                        <p><span className="font-medium">Price:</span> ${room.price}/night</p>
                                        <p><span className="font-medium">Capacity:</span> {room.capacity} guests</p>
                                        <p><span className="font-medium">Size:</span> {room.size}</p>
                                    </div>
                                    <div className="flex gap-2">
                                        <button className="flex-1 bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 transition-colors">
                                            Edit
                                        </button>
                                        <button className="flex-1 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 transition-colors">
                                            Delete
                                        </button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        }

        // Packages Management Section
        function PackagesSection() {
            const [packages, setPackages] = useState([]);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                loadPackages();
            }, []);

            const loadPackages = async () => {
                try {
                    const response = await fetch('/api/packages');
                    const data = await response.json();
                    setPackages(data.success ? data.data : []);
                } catch (error) {
                    console.error('Error loading packages:', error);
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="p-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Packages Management</h2>
                        <button className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            Add Package
                        </button>
                    </div>

                    {loading ? (
                        <div className="text-center py-8">Loading packages...</div>
                    ) : (
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                            {packages.map((pkg) => (
                                <div key={pkg.id} className="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
                                    <div className="flex justify-between items-start mb-4">
                                        <h3 className="text-lg font-semibold text-gray-900">{pkg.name}</h3>
                                        <div className="flex gap-2">
                                            <span className={`px-2 py-1 text-xs rounded-full ${
                                                pkg.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                            }`}>
                                                {pkg.is_active ? 'Active' : 'Inactive'}
                                            </span>
                                            <span className="px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">
                                                {pkg.discount_percentage}% OFF
                                            </span>
                                        </div>
                                    </div>
                                    <p className="text-sm text-gray-600 mb-4">{pkg.description}</p>
                                    <div className="space-y-2 text-sm text-gray-600 mb-4">
                                        <p><span className="font-medium">Type:</span> {pkg.package_type}</p>
                                        <p><span className="font-medium">Base Price:</span> ${pkg.base_price}</p>
                                        <p><span className="font-medium">Duration:</span> {pkg.min_nights}-{pkg.max_nights} nights</p>
                                        <p><span className="font-medium">Max Guests:</span> {pkg.max_guests}</p>
                                    </div>
                                    <div className="flex gap-2">
                                        <button className="flex-1 bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 transition-colors">
                                            Edit
                                        </button>
                                        <button className="flex-1 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 transition-colors">
                                            Delete
                                        </button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        }

        // Villa Information Section
        function VillaInfoSection() {
            const [villaInfo, setVillaInfo] = useState({
                name: 'Serene Mountain Retreat',
                location: 'Aspen, Colorado',
                description: 'Escape to this stunning mountain retreat where modern luxury meets rustic charm. Nestled in the heart of the Rockies, this villa offers breathtaking views, unparalleled comfort, and direct access to world-class ski slopes and hiking trails. Perfect for family vacations, romantic getaways, or corporate retreats.',
                rating: 4.9,
                reviews: 128,
                images: [
                    'https://images.unsplash.com/photo-1580587771525-78b9dba3b914?q=80&w=2574&auto=format&fit=crop',
                    'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=2670&auto=format&fit=crop',
                    'https://images.unsplash.com/photo-1613977257363-3116958f136b?q=80&w=2670&auto=format&fit=crop',
                    'https://images.unsplash.com/photo-1593696140826-c58b02198d4a?q=80&w=2670&auto=format&fit=crop',
                    'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=2670&auto=format&fit=crop'
                ],
                amenities: [
                    { name: 'High-speed Wifi', icon: 'Wifi' },
                    { name: 'Private Hot Tub', icon: 'Bath' },
                    { name: 'Indoor Fireplace', icon: 'Flame' },
                    { name: 'Fully Equipped Kitchen', icon: 'CookingPot' },
                    { name: 'Free Parking on Premises', icon: 'Car' },
                    { name: 'Central Air & Heating', icon: 'AirVent' }
                ]
            });
            const [isEditing, setIsEditing] = useState(false);
            const [saving, setSaving] = useState(false);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                loadVillaInfo();
            }, []);

            const loadVillaInfo = async () => {
                try {
                    const response = await fetch('/api/villa.php');
                    const data = await response.json();
                    if (data.success && data.data) {
                        setVillaInfo(data.data);
                    }
                } catch (error) {
                    console.error('Error loading villa info:', error);
                } finally {
                    setLoading(false);
                }
            };

            const handleInputChange = (field, value) => {
                setVillaInfo(prev => ({
                    ...prev,
                    [field]: value
                }));
            };

            const handleImageChange = (index, value) => {
                const newImages = [...villaInfo.images];
                newImages[index] = value;
                setVillaInfo(prev => ({
                    ...prev,
                    images: newImages
                }));
            };

            const addImage = () => {
                setVillaInfo(prev => ({
                    ...prev,
                    images: [...prev.images, '']
                }));
            };

            const removeImage = (index) => {
                const newImages = villaInfo.images.filter((_, i) => i !== index);
                setVillaInfo(prev => ({
                    ...prev,
                    images: newImages
                }));
            };

            const handleAmenityChange = (index, field, value) => {
                const newAmenities = [...villaInfo.amenities];
                newAmenities[index] = { ...newAmenities[index], [field]: value };
                setVillaInfo(prev => ({
                    ...prev,
                    amenities: newAmenities
                }));
            };

            const addAmenity = () => {
                setVillaInfo(prev => ({
                    ...prev,
                    amenities: [...prev.amenities, { name: '', icon: 'Star' }]
                }));
            };

            const removeAmenity = (index) => {
                const newAmenities = villaInfo.amenities.filter((_, i) => i !== index);
                setVillaInfo(prev => ({
                    ...prev,
                    amenities: newAmenities
                }));
            };

            const handleSave = async () => {
                setSaving(true);
                try {
                    const response = await fetch('/api/villa.php', {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(villaInfo),
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        setIsEditing(false);
                        alert('Villa information updated successfully!');
                    } else {
                        alert('Error updating villa information: ' + result.error);
                    }
                } catch (error) {
                    alert('Error updating villa information');
                    console.error('Error:', error);
                } finally {
                    setSaving(false);
                }
            };

            if (loading) {
                return (
                    <div className="p-6">
                        <div className="text-center py-8">Loading villa information...</div>
                    </div>
                );
            }

            return (
                <div className="p-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Villa Information</h2>
                        <div className="flex gap-2">
                            {!isEditing ? (
                                <button 
                                    onClick={() => setIsEditing(true)}
                                    className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                                >
                                    Edit Villa Info
                                </button>
                            ) : (
                                <>
                                    <button 
                                        onClick={() => setIsEditing(false)}
                                        className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors"
                                    >
                                        Cancel
                                    </button>
                                    <button 
                                        onClick={handleSave}
                                        disabled={saving}
                                        className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50"
                                    >
                                        {saving ? 'Saving...' : 'Save Changes'}
                                    </button>
                                </>
                            )}
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        {/* Basic Information */}
                        <div className="space-y-6">
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <h3 className="text-lg font-semibold text-gray-900 mb-4">Basic Information</h3>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Villa Name</label>
                                        {isEditing ? (
                                            <input
                                                type="text"
                                                value={villaInfo.name}
                                                onChange={(e) => handleInputChange('name', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{villaInfo.name}</p>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Location</label>
                                        {isEditing ? (
                                            <input
                                                type="text"
                                                value={villaInfo.location}
                                                onChange={(e) => handleInputChange('location', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{villaInfo.location}</p>
                                        )}
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Rating</label>
                                            {isEditing ? (
                                                <input
                                                    type="number"
                                                    min="0"
                                                    max="5"
                                                    step="0.1"
                                                    value={villaInfo.rating}
                                                    onChange={(e) => handleInputChange('rating', parseFloat(e.target.value))}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{villaInfo.rating} / 5</p>
                                            )}
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Reviews Count</label>
                                            {isEditing ? (
                                                <input
                                                    type="number"
                                                    min="0"
                                                    value={villaInfo.reviews}
                                                    onChange={(e) => handleInputChange('reviews', parseInt(e.target.value))}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{villaInfo.reviews} reviews</p>
                                            )}
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Description</label>
                                        {isEditing ? (
                                            <textarea
                                                value={villaInfo.description}
                                                onChange={(e) => handleInputChange('description', e.target.value)}
                                                rows="4"
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{villaInfo.description}</p>
                                        )}
                                    </div>
                                </div>
                            </div>

                            {/* Images Section */}
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-lg font-semibold text-gray-900">Images</h3>
                                    {isEditing && (
                                        <button
                                            onClick={addImage}
                                            className="bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700"
                                        >
                                            Add Image
                                        </button>
                                    )}
                                </div>
                                <div className="space-y-3">
                                    {villaInfo.images.map((image, index) => (
                                        <div key={index} className="flex items-center gap-2">
                                            {isEditing ? (
                                                <>
                                                    <input
                                                        type="url"
                                                        value={image}
                                                        onChange={(e) => handleImageChange(index, e.target.value)}
                                                        placeholder="Image URL"
                                                        className="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                    />
                                                    <button
                                                        onClick={() => removeImage(index)}
                                                        className="bg-red-600 text-white px-2 py-2 rounded text-sm hover:bg-red-700"
                                                    >
                                                        Remove
                                                    </button>
                                                </>
                                            ) : (
                                                <div className="flex items-center gap-3">
                                                    <img 
                                                        src={image} 
                                                        alt={`Villa image ${index + 1}`} 
                                                        className="w-16 h-16 object-cover rounded"
                                                    />
                                                    <p className="text-sm text-gray-600 truncate flex-1">{image}</p>
                                                </div>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>

                        {/* Amenities */}
                        <div className="space-y-6">
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-lg font-semibold text-gray-900">Amenities</h3>
                                    {isEditing && (
                                        <button
                                            onClick={addAmenity}
                                            className="bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700"
                                        >
                                            Add Amenity
                                        </button>
                                    )}
                                </div>
                                <div className="space-y-3">
                                    {villaInfo.amenities.map((amenity, index) => (
                                        <div key={index} className="flex items-center gap-2">
                                            {isEditing ? (
                                                <>
                                                    <input
                                                        type="text"
                                                        value={amenity.name}
                                                        onChange={(e) => handleAmenityChange(index, 'name', e.target.value)}
                                                        placeholder="Amenity name"
                                                        className="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                    />
                                                    <select
                                                        value={amenity.icon}
                                                        onChange={(e) => handleAmenityChange(index, 'icon', e.target.value)}
                                                        className="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                    >
                                                        <option value="Wifi">Wifi</option>
                                                        <option value="Bath">Bath</option>
                                                        <option value="Flame">Flame</option>
                                                        <option value="CookingPot">CookingPot</option>
                                                        <option value="Car">Car</option>
                                                        <option value="AirVent">AirVent</option>
                                                        <option value="Star">Star</option>
                                                        <option value="Home">Home</option>
                                                        <option value="Coffee">Coffee</option>
                                                        <option value="Tv">Tv</option>
                                                    </select>
                                                    <button
                                                        onClick={() => removeAmenity(index)}
                                                        className="bg-red-600 text-white px-2 py-2 rounded text-sm hover:bg-red-700"
                                                    >
                                                        Remove
                                                    </button>
                                                </>
                                            ) : (
                                                <div className="flex items-center gap-3 p-2 bg-white rounded">
                                                    <span className="text-gray-600">{amenity.icon}</span>
                                                    <span className="text-gray-900">{amenity.name}</span>
                                                </div>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Business Details Section
        function BusinessDetailsSection() {
            const [businessDetails, setBusinessDetails] = useState({
                name: 'Grand Luxury Hotel',
                email: 'info@grandluxuryhotel.com',
                phone: '+1 (555) 123-4567',
                address: '123 Luxury Avenue',
                city: 'New York',
                state: 'NY',
                zipCode: '10001',
                country: 'United States',
                website: 'https://grandluxuryhotel.com',
                description: 'Experience unparalleled luxury and comfort at our prestigious hotel located in the heart of the city.',
                checkInTime: '15:00',
                checkOutTime: '11:00',
                currency: 'USD',
                taxRate: '10.5',
                cancellationPolicy: '24',
                paymentMethods: ['Credit Card', 'Debit Card', 'PayPal'],
                socialMedia: {
                    facebook: 'https://facebook.com/grandluxuryhotel',
                    instagram: 'https://instagram.com/grandluxuryhotel',
                    twitter: 'https://twitter.com/grandluxuryhotel'
                }
            });
            const [isEditing, setIsEditing] = useState(false);
            const [saving, setSaving] = useState(false);

            const handleInputChange = (field, value) => {
                if (field.includes('.')) {
                    const [parent, child] = field.split('.');
                    setBusinessDetails(prev => ({
                        ...prev,
                        [parent]: {
                            ...prev[parent],
                            [child]: value
                        }
                    }));
                } else {
                    setBusinessDetails(prev => ({
                        ...prev,
                        [field]: value
                    }));
                }
            };

            const handleSave = async () => {
                setSaving(true);
                try {
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    setIsEditing(false);
                    alert('Business details updated successfully!');
                } catch (error) {
                    alert('Error updating business details');
                } finally {
                    setSaving(false);
                }
            };

            return (
                <div className="p-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Business Details</h2>
                        <div className="flex gap-2">
                            {!isEditing ? (
                                <button 
                                    onClick={() => setIsEditing(true)}
                                    className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                                >
                                    Edit Details
                                </button>
                            ) : (
                                <>
                                    <button 
                                        onClick={() => setIsEditing(false)}
                                        className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors"
                                    >
                                        Cancel
                                    </button>
                                    <button 
                                        onClick={handleSave}
                                        disabled={saving}
                                        className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50"
                                    >
                                        {saving ? 'Saving...' : 'Save Changes'}
                                    </button>
                                </>
                            )}
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        {/* Basic Information */}
                        <div className="space-y-6">
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <h3 className="text-lg font-semibold text-gray-900 mb-4">Basic Information</h3>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Business Name</label>
                                        {isEditing ? (
                                            <input
                                                type="text"
                                                value={businessDetails.name}
                                                onChange={(e) => handleInputChange('name', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.name}</p>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                        {isEditing ? (
                                            <input
                                                type="email"
                                                value={businessDetails.email}
                                                onChange={(e) => handleInputChange('email', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.email}</p>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                        {isEditing ? (
                                            <input
                                                type="tel"
                                                value={businessDetails.phone}
                                                onChange={(e) => handleInputChange('phone', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.phone}</p>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Website</label>
                                        {isEditing ? (
                                            <input
                                                type="url"
                                                value={businessDetails.website}
                                                onChange={(e) => handleInputChange('website', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <a href={businessDetails.website} target="_blank" className="text-blue-600 hover:text-blue-800">
                                                {businessDetails.website}
                                            </a>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Description</label>
                                        {isEditing ? (
                                            <textarea
                                                value={businessDetails.description}
                                                onChange={(e) => handleInputChange('description', e.target.value)}
                                                rows="3"
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.description}</p>
                                        )}
                                    </div>
                                </div>
                            </div>

                            {/* Address Information */}
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <h3 className="text-lg font-semibold text-gray-900 mb-4">Address</h3>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Street Address</label>
                                        {isEditing ? (
                                            <input
                                                type="text"
                                                value={businessDetails.address}
                                                onChange={(e) => handleInputChange('address', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.address}</p>
                                        )}
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">City</label>
                                            {isEditing ? (
                                                <input
                                                    type="text"
                                                    value={businessDetails.city}
                                                    onChange={(e) => handleInputChange('city', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.city}</p>
                                            )}
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">State</label>
                                            {isEditing ? (
                                                <input
                                                    type="text"
                                                    value={businessDetails.state}
                                                    onChange={(e) => handleInputChange('state', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.state}</p>
                                            )}
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">ZIP Code</label>
                                            {isEditing ? (
                                                <input
                                                    type="text"
                                                    value={businessDetails.zipCode}
                                                    onChange={(e) => handleInputChange('zipCode', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.zipCode}</p>
                                            )}
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Country</label>
                                            {isEditing ? (
                                                <input
                                                    type="text"
                                                    value={businessDetails.country}
                                                    onChange={(e) => handleInputChange('country', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.country}</p>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Hotel Settings */}
                        <div className="space-y-6">
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <h3 className="text-lg font-semibold text-gray-900 mb-4">Hotel Settings</h3>
                                <div className="space-y-4">
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Check-in Time</label>
                                            {isEditing ? (
                                                <input
                                                    type="time"
                                                    value={businessDetails.checkInTime}
                                                    onChange={(e) => handleInputChange('checkInTime', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.checkInTime}</p>
                                            )}
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Check-out Time</label>
                                            {isEditing ? (
                                                <input
                                                    type="time"
                                                    value={businessDetails.checkOutTime}
                                                    onChange={(e) => handleInputChange('checkOutTime', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.checkOutTime}</p>
                                            )}
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Currency</label>
                                            {isEditing ? (
                                                <select
                                                    value={businessDetails.currency}
                                                    onChange={(e) => handleInputChange('currency', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                >
                                                    <option value="USD">USD ($)</option>
                                                    <option value="EUR">EUR (â‚¬)</option>
                                                    <option value="GBP">GBP (Â£)</option>
                                                    <option value="JPY">JPY (Â¥)</option>
                                                </select>
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.currency}</p>
                                            )}
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Tax Rate (%)</label>
                                            {isEditing ? (
                                                <input
                                                    type="number"
                                                    step="0.1"
                                                    value={businessDetails.taxRate}
                                                    onChange={(e) => handleInputChange('taxRate', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.taxRate}%</p>
                                            )}
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Cancellation Policy (hours)</label>
                                        {isEditing ? (
                                            <input
                                                type="number"
                                                value={businessDetails.cancellationPolicy}
                                                onChange={(e) => handleInputChange('cancellationPolicy', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.cancellationPolicy} hours before check-in</p>
                                        )}
                                    </div>
                                </div>
                            </div>

                            {/* Social Media */}
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <h3 className="text-lg font-semibold text-gray-900 mb-4">Social Media</h3>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Facebook</label>
                                        {isEditing ? (
                                            <input
                                                type="url"
                                                value={businessDetails.socialMedia.facebook}
                                                onChange={(e) => handleInputChange('socialMedia.facebook', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <a href={businessDetails.socialMedia.facebook} target="_blank" className="text-blue-600 hover:text-blue-800">
                                                {businessDetails.socialMedia.facebook}
                                            </a>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Instagram</label>
                                        {isEditing ? (
                                            <input
                                                type="url"
                                                value={businessDetails.socialMedia.instagram}
                                                onChange={(e) => handleInputChange('socialMedia.instagram', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <a href={businessDetails.socialMedia.instagram} target="_blank" className="text-blue-600 hover:text-blue-800">
                                                {businessDetails.socialMedia.instagram}
                                            </a>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Twitter</label>
                                        {isEditing ? (
                                            <input
                                                type="url"
                                                value={businessDetails.socialMedia.twitter}
                                                onChange={(e) => handleInputChange('socialMedia.twitter', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <a href={businessDetails.socialMedia.twitter} target="_blank" className="text-blue-600 hover:text-blue-800">
                                                {businessDetails.socialMedia.twitter}
                                            </a>
                                        )}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function SettingsSection() {
            return (
                <div className="p-6">
                    <h2 className="text-2xl font-bold text-gray-900 mb-6">System Settings</h2>
                    <div className="text-center py-12 text-gray-600">
                        <p>Settings panel coming soon...</p>
                    </div>
                </div>
            );
        }

        // Render the app
        ReactDOM.render(<AdminDashboard />, document.getElementById('admin-root'));
    </script>
</body>
</html>