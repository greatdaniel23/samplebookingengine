<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Admin Dashboard</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="config.js"></script>
    <style>
        :root {
            --hotel-gold: #B8860B;
            --hotel-cream: #FAF7F0;  
            --hotel-bronze: #8B4513;
            --hotel-navy: #2C3E50;
        }
        
        .btn-hotel-primary {
            background-color: var(--hotel-gold);
            color: white;
            border: 1px solid var(--hotel-gold);
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.2s;
        }
        
        .btn-hotel-primary:hover {
            background-color: #996D0A;
        }
        
        .btn-hotel-secondary {
            background-color: var(--hotel-cream);
            color: var(--hotel-navy);
            border: 1px solid var(--hotel-gold);
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.2s;
        }
        
        .text-hotel-navy { color: var(--hotel-navy); }
        .text-hotel-gold { color: var(--hotel-gold); }
        .text-hotel-bronze { color: var(--hotel-bronze); }
        .bg-hotel-cream { background-color: var(--hotel-cream); }
        .bg-hotel-gold { background-color: var(--hotel-gold); }
        .border-hotel-gold { border-color: var(--hotel-gold); }
    </style>
</head>
<body>
    <div id="admin-root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Initialize configuration and log current settings
        logConfig();
        
        // API configuration now handled by config.js functions

        // Simple auth check
        function useAuth() {
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                const adminLoggedIn = sessionStorage.getItem('adminLoggedIn');
                if (adminLoggedIn === 'true') {
                    setIsAuthenticated(true);
                }
                setLoading(false);
            }, []);

            const logout = () => {
                sessionStorage.removeItem('adminLoggedIn');
                sessionStorage.removeItem('adminUser');
                window.location.href = 'admin-login.html';
            };

            return { isAuthenticated, loading, logout };
        }

        // Admin Dashboard Component
        function AdminDashboard() {
            const { isAuthenticated, loading, logout } = useAuth();
            const [activeSection, setActiveSection] = useState('overview');

            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center">
                        <div className="text-center">
                            <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-600 mx-auto"></div>
                            <p className="mt-4 text-gray-600">Loading admin dashboard...</p>
                        </div>
                    </div>
                );
            }

            if (!isAuthenticated) {
                window.location.href = 'admin-login.html';
                return null;
            }

            return (
                <div className="min-h-screen bg-gray-50">
                    {/* Header */}
                    <header className="bg-white shadow-sm border-b">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex justify-between items-center py-4">
                                <div className="flex items-center">
                                    <div className="w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center mr-3">
                                        <svg className="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                                        </svg>
                                    </div>
                                    <h1 className="text-xl font-semibold text-gray-900">Hotel Admin Dashboard</h1>
                                </div>
                                <div className="flex items-center space-x-4">
                                    <span className="text-sm text-gray-600">
                                        Welcome, {sessionStorage.getItem('adminUser')}
                                    </span>
                                    <button 
                                        onClick={logout}
                                        className="text-sm text-red-600 hover:text-red-800 transition-colors"
                                    >
                                        Logout
                                    </button>
                                </div>
                            </div>
                        </div>
                    </header>

                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        {/* Navigation Tabs */}
                        <div className="mb-8">
                            <nav className="flex space-x-8">
                                {[
                                    { id: 'overview', name: 'Overview', icon: 'ðŸ“Š' },
                                    { id: 'bookings', name: 'Bookings', icon: 'ðŸ“…' },
                                    { id: 'rooms', name: 'Rooms', icon: 'ðŸ¨' },
                                    { id: 'packages', name: 'Packages', icon: 'ðŸ“¦' },
                                    { id: 'villa', name: 'Villa Info', icon: 'ðŸ–ï¸' },
                                    { id: 'business', name: 'Business Details', icon: 'ðŸ¢' },
                                    { id: 'settings', name: 'Settings', icon: 'âš™ï¸' }
                                ].map((tab) => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveSection(tab.id)}
                                        className={`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${
                                            activeSection === tab.id
                                                ? 'bg-yellow-100 text-yellow-800 border border-yellow-300'
                                                : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'
                                        }`}
                                    >
                                        <span className="mr-2">{tab.icon}</span>
                                        {tab.name}
                                    </button>
                                ))}
                            </nav>
                        </div>

                        {/* Content Area */}
                        <div className="bg-white rounded-lg shadow">
                            {activeSection === 'overview' && <OverviewSection />}
                            {activeSection === 'bookings' && <BookingsSection />}
                            {activeSection === 'rooms' && <RoomsSection />}
                            {activeSection === 'packages' && <PackagesSection />}
                            {activeSection === 'villa' && <VillaInfoSection />}
                            {activeSection === 'business' && <BusinessDetailsSection />}
                            {activeSection === 'settings' && <SettingsSection />}
                        </div>
                    </div>
                </div>
            );
        }

        // Overview Section
        function OverviewSection() {
            return (
                <div className="p-6">
                    <h2 className="text-2xl font-bold text-gray-900 mb-6">Dashboard Overview</h2>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div className="bg-blue-50 p-6 rounded-lg">
                            <div className="flex items-center">
                                <div className="p-2 bg-blue-100 rounded-lg">
                                    <svg className="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                </div>
                                <div className="ml-4">
                                    <p className="text-sm font-medium text-blue-600">Total Bookings</p>
                                    <p className="text-2xl font-bold text-blue-900">23</p>
                                </div>
                            </div>
                        </div>

                        <div className="bg-green-50 p-6 rounded-lg">
                            <div className="flex items-center">
                                <div className="p-2 bg-green-100 rounded-lg">
                                    <svg className="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                                    </svg>
                                </div>
                                <div className="ml-4">
                                    <p className="text-sm font-medium text-green-600">Available Rooms</p>
                                    <p className="text-2xl font-bold text-green-900">5</p>
                                </div>
                            </div>
                        </div>

                        <div className="bg-yellow-50 p-6 rounded-lg">
                            <div className="flex items-center">
                                <div className="p-2 bg-yellow-100 rounded-lg">
                                    <svg className="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                                    </svg>
                                </div>
                                <div className="ml-4">
                                    <p className="text-sm font-medium text-yellow-600">Active Packages</p>
                                    <p className="text-2xl font-bold text-yellow-900">6</p>
                                </div>
                            </div>
                        </div>

                        <div className="bg-purple-50 p-6 rounded-lg">
                            <div className="flex items-center">
                                <div className="p-2 bg-purple-100 rounded-lg">
                                    <svg className="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                                    </svg>
                                </div>
                                <div className="ml-4">
                                    <p className="text-sm font-medium text-purple-600">Revenue</p>
                                    <p className="text-2xl font-bold text-purple-900">$12,450</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="bg-gray-50 p-6 rounded-lg">
                        <h3 className="text-lg font-semibold text-gray-900 mb-4">Quick Actions</h3>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            <button className="p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-left" onClick={() => setActiveSection('villa')}>
                                <h4 className="font-medium text-gray-900">Villa Information</h4>
                                <p className="text-sm text-gray-600 mt-1">Edit villa details, images, and amenities</p>
                            </button>
                            <a href="admin-reports.html" className="p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-left block">
                                <h4 className="font-medium text-gray-900">View Reports</h4>
                                <p className="text-sm text-gray-600 mt-1">Access detailed booking and revenue reports</p>
                            </a>
                            <button className="p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-left" onClick={() => setActiveSection('bookings')}>
                                <h4 className="font-medium text-gray-900">Manage Bookings</h4>
                                <p className="text-sm text-gray-600 mt-1">View and edit current bookings</p>
                            </button>
                            <button className="p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-left" onClick={() => setActiveSection('business')}>
                                <h4 className="font-medium text-gray-900">Business Details</h4>
                                <p className="text-sm text-gray-600 mt-1">Edit hotel information and settings</p>
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // Bookings Management Section
        function BookingsSection() {
            const [bookings, setBookings] = useState([]);
            const [rooms, setRooms] = useState([]);
            const [packages, setPackages] = useState([]);
            const [loading, setLoading] = useState(true);
            const [editingBooking, setEditingBooking] = useState(null);
            const [showAddForm, setShowAddForm] = useState(false);
            const [showCalendarSync, setShowCalendarSync] = useState(false);
            const [calendarUrls, setCalendarUrls] = useState(null);
            const [filterStatus, setFilterStatus] = useState('all');
            const [formData, setFormData] = useState({
                room_id: '',
                first_name: '',
                last_name: '',
                email: '',
                phone: '',
                check_in: '',
                check_out: '',
                guests: '',
                total_price: '',
                special_requests: '',
                status: 'confirmed'
            });

            const bookingStatuses = ['pending', 'confirmed', 'cancelled', 'checked_in', 'checked_out'];

            useEffect(() => {
                loadBookings();
                loadRooms();
                loadPackages();
            }, []);

            const loadBookings = async () => {
                try {
                    setLoading(true);
                    const response = await fetch(getApiUrl('bookings.php'));
                    const data = await response.json();
                    console.log('Bookings API Response:', data);
                    if (data.success) {
                        setBookings(data.data);
                        console.log('Bookings loaded:', data.data.length);
                    } else {
                        console.error('Error loading bookings:', data.error);
                        alert('Error loading bookings: ' + data.error);
                    }
                } catch (error) {
                    console.error('Error loading bookings:', error);
                    alert('Error loading bookings. Please check if XAMPP is running. Error: ' + error.message);
                } finally {
                    setLoading(false);
                }
            };

            const loadRooms = async () => {
                try {
                    const response = await fetch(getApiUrl('rooms.php'));
                    const data = await response.json();
                    if (data.success) {
                        setRooms(data.data.filter(room => room.available));
                    }
                } catch (error) {
                    console.error('Error loading rooms:', error);
                }
            };

            const loadPackages = async () => {
                try {
                    const response = await fetch(getApiUrl('packages.php'));
                    const data = await response.json();
                    if (data.success) {
                        // Admin needs to see ALL packages including inactive ones for management
                        setPackages(data.data);
                    }
                } catch (error) {
                    console.error('Error loading packages:', error);
                }
            };

            const resetForm = () => {
                setFormData({
                    room_id: '',
                    first_name: '',
                    last_name: '',
                    email: '',
                    phone: '',
                    check_in: '',
                    check_out: '',
                    guests: '',
                    total_price: '',
                    special_requests: '',
                    status: 'confirmed'
                });
                setEditingBooking(null);
                setShowAddForm(false);
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                try {
                    const url = editingBooking ? getApiUrl(`bookings.php?id=${editingBooking.id}`) : getApiUrl('bookings.php');
                    const method = editingBooking ? 'PUT' : 'POST';
                    
                    const response = await fetch(url, {
                        method: method,
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(formData)
                    });
                    
                    const data = await response.json();
                    
                    if (data.success) {
                        alert(editingBooking ? 'Booking updated successfully!' : 'Booking created successfully!');
                        resetForm();
                        loadBookings();
                    } else {
                        alert('Error: ' + data.error);
                    }
                } catch (error) {
                    console.error('Error saving booking:', error);
                    alert('Error saving booking: ' + error.message);
                }
            };

            const deleteBooking = async (id) => {
                if (confirm('Are you sure you want to delete this booking?')) {
                    try {
                        const response = await fetch(getApiUrl(`bookings.php?id=${id}`), {
                            method: 'DELETE'
                        });
                        
                        const data = await response.json();
                        
                        if (data.success) {
                            alert('Booking deleted successfully!');
                            loadBookings();
                        } else {
                            alert('Error deleting booking: ' + data.error);
                        }
                    } catch (error) {
                        console.error('Error deleting booking:', error);
                        alert('Error deleting booking: ' + error.message);
                    }
                }
            };

            const editBooking = (booking) => {
                setFormData({
                    room_id: booking.room_id,
                    first_name: booking.first_name,
                    last_name: booking.last_name,
                    email: booking.email,
                    phone: booking.phone,
                    check_in: booking.check_in.split(' ')[0], // Get just the date part
                    check_out: booking.check_out.split(' ')[0], // Get just the date part
                    guests: booking.guests,
                    total_price: booking.total_price,
                    special_requests: booking.special_requests || '',
                    status: booking.status
                });
                setEditingBooking(booking);
                setShowAddForm(true);
            };

            const updateBookingStatus = async (id, newStatus) => {
                try {
                    const booking = bookings.find(b => b.id === id);
                    const updatedData = { ...booking, status: newStatus };
                    delete updatedData.room_name; // Remove joined field
                    
                    const response = await fetch(getApiUrl(`bookings.php?id=${id}`), {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(updatedData)
                    });
                    
                    const data = await response.json();
                    
                    if (data.success) {
                        alert('Booking status updated successfully!');
                        loadBookings();
                    } else {
                        alert('Error updating status: ' + data.error);
                    }
                } catch (error) {
                    console.error('Error updating status:', error);
                    alert('Error updating status: ' + error.message);
                }
            };

            // iCal Export Functions
            const exportToiCal = async () => {
                try {
                    const params = new URLSearchParams({
                        action: 'calendar',
                        format: 'ics',
                        status: filterStatus
                    });
                    
                    const url = getApiUrl(`ical.php?${params}`);
                    
                    // Create download link
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = 'villa-bookings.ics';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    
                    alert('Calendar exported successfully! You can now import this file into Google Calendar, Outlook, or Apple Calendar.');
                } catch (error) {
                    console.error('Error exporting calendar:', error);
                    alert('Error exporting calendar: ' + error.message);
                }
            };

            const loadCalendarUrls = async () => {
                try {
                    const response = await fetch(getApiUrl('ical.php?action=subscribe'));
                    const data = await response.json();
                    
                    if (data.success) {
                        setCalendarUrls(data);
                    } else {
                        alert('Error loading calendar URLs: ' + data.error);
                    }
                } catch (error) {
                    console.error('Error loading calendar URLs:', error);
                    alert('Error loading calendar URLs: ' + error.message);
                }
            };

            const copyToClipboard = (text) => {
                navigator.clipboard.writeText(text).then(() => {
                    alert('URL copied to clipboard!');
                }).catch(() => {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = text;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    alert('URL copied to clipboard!');
                });
            };

            const filteredBookings = filterStatus === 'all' 
                ? bookings 
                : bookings.filter(booking => booking.status === filterStatus);

            return (
                <div className="p-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Bookings Management</h2>
                        <div className="flex gap-2">
                            <button 
                                onClick={() => setShowAddForm(true)}
                                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                            >
                                Add Booking
                            </button>
                            <button 
                                onClick={exportToiCal}
                                className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2"
                            >
                                ðŸ“… Export Calendar
                            </button>
                            <button 
                                onClick={() => setShowCalendarSync(true)}
                                className="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2"
                            >
                                ðŸ”— Calendar Sync
                            </button>
                            <a 
                                href="admin-reports.html" 
                                className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors"
                            >
                                View Reports
                            </a>
                        </div>
                    </div>

                    {/* Filter Dropdown */}
                    <div className="mb-4">
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                            Filter by Status:
                        </label>
                        <select 
                            value={filterStatus}
                            onChange={(e) => setFilterStatus(e.target.value)}
                            className="border border-gray-300 rounded-lg px-3 py-2 bg-white"
                        >
                            <option value="all">All Bookings</option>
                            {bookingStatuses.map(status => (
                                <option key={status} value={status}>
                                    {status.charAt(0).toUpperCase() + status.slice(1).replace('_', ' ')}
                                </option>
                            ))}
                        </select>
                    </div>

                    {loading ? (
                        <div className="text-center py-8">Loading bookings...</div>
                    ) : (
                        <div className="overflow-x-auto">
                            <table className="min-w-full bg-white border border-gray-200">
                                <thead className="bg-gray-50">
                                    <tr>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Guest</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Room</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Dates</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Total</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-gray-200">
                                    {filteredBookings.map((booking) => (
                                        <tr key={booking.id} className="hover:bg-gray-50">
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                                <div>
                                                    <div className="font-medium">{booking.first_name} {booking.last_name}</div>
                                                    <div className="text-gray-500">{booking.email}</div>
                                                    <div className="text-gray-500">{booking.phone}</div>
                                                </div>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                                <div>
                                                    <div className="font-medium">{booking.room_name || `Room ${booking.room_id}`}</div>
                                                    <div className="text-gray-500">{booking.guests} guest{booking.guests > 1 ? 's' : ''}</div>
                                                </div>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                                <div>
                                                    <div>Check-in: {booking.check_in.split(' ')[0]}</div>
                                                    <div>Check-out: {booking.check_out.split(' ')[0]}</div>
                                                </div>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap">
                                                <select 
                                                    value={booking.status}
                                                    onChange={(e) => updateBookingStatus(booking.id, e.target.value)}
                                                    className={`px-2 py-1 text-xs rounded-full border-0 focus:ring-2 ${
                                                        booking.status === 'confirmed' ? 'bg-green-100 text-green-800' :
                                                        booking.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :
                                                        booking.status === 'checked_in' ? 'bg-blue-100 text-blue-800' :
                                                        booking.status === 'checked_out' ? 'bg-purple-100 text-purple-800' :
                                                        'bg-red-100 text-red-800'
                                                    }`}
                                                >
                                                    {bookingStatuses.map(status => (
                                                        <option key={status} value={status}>
                                                            {status.charAt(0).toUpperCase() + status.slice(1).replace('_', ' ')}
                                                        </option>
                                                    ))}
                                                </select>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                                <div className="font-medium">${booking.total_price}</div>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <button 
                                                    onClick={() => editBooking(booking)}
                                                    className="text-blue-600 hover:text-blue-900 mr-3"
                                                >
                                                    Edit
                                                </button>
                                                <button 
                                                    onClick={() => deleteBooking(booking.id)}
                                                    className="text-red-600 hover:text-red-900"
                                                >
                                                    Delete
                                                </button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    )}

                    {/* Booking Form Modal */}
                    {showAddForm && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                            <div className="bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-lg font-medium">
                                        {editingBooking ? 'Edit Booking' : 'Add New Booking'}
                                    </h3>
                                    <button 
                                        onClick={resetForm}
                                        className="text-gray-400 hover:text-gray-600"
                                    >
                                        âœ•
                                    </button>
                                </div>

                                <form onSubmit={handleSubmit} className="space-y-4">
                                    <div className="grid gap-4 md:grid-cols-2">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                                Room *
                                            </label>
                                            <select 
                                                value={formData.room_id}
                                                onChange={(e) => setFormData({...formData, room_id: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2"
                                                required
                                            >
                                                <option value="">Select Room</option>
                                                {rooms.map(room => (
                                                    <option key={room.id} value={room.id}>
                                                        {room.name} - ${room.price}/night (Max {room.capacity} guests)
                                                    </option>
                                                ))}
                                            </select>
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                                Number of Guests *
                                            </label>
                                            <input 
                                                type="number"
                                                value={formData.guests}
                                                onChange={(e) => setFormData({...formData, guests: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2"
                                                min="1"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                                First Name *
                                            </label>
                                            <input 
                                                type="text"
                                                value={formData.first_name}
                                                onChange={(e) => setFormData({...formData, first_name: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                                Last Name *
                                            </label>
                                            <input 
                                                type="text"
                                                value={formData.last_name}
                                                onChange={(e) => setFormData({...formData, last_name: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                                Email *
                                            </label>
                                            <input 
                                                type="email"
                                                value={formData.email}
                                                onChange={(e) => setFormData({...formData, email: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                                Phone *
                                            </label>
                                            <input 
                                                type="tel"
                                                value={formData.phone}
                                                onChange={(e) => setFormData({...formData, phone: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                                Check-in Date *
                                            </label>
                                            <input 
                                                type="date"
                                                value={formData.check_in}
                                                onChange={(e) => setFormData({...formData, check_in: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                                Check-out Date *
                                            </label>
                                            <input 
                                                type="date"
                                                value={formData.check_out}
                                                onChange={(e) => setFormData({...formData, check_out: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                                Total Price *
                                            </label>
                                            <input 
                                                type="number"
                                                step="0.01"
                                                value={formData.total_price}
                                                onChange={(e) => setFormData({...formData, total_price: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2"
                                                required
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                                Status *
                                            </label>
                                            <select 
                                                value={formData.status}
                                                onChange={(e) => setFormData({...formData, status: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2"
                                                required
                                            >
                                                {bookingStatuses.map(status => (
                                                    <option key={status} value={status}>
                                                        {status.charAt(0).toUpperCase() + status.slice(1).replace('_', ' ')}
                                                    </option>
                                                ))}
                                            </select>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">
                                            Special Requests
                                        </label>
                                        <textarea 
                                            value={formData.special_requests}
                                            onChange={(e) => setFormData({...formData, special_requests: e.target.value})}
                                            className="w-full border border-gray-300 rounded-lg px-3 py-2"
                                            rows="3"
                                            placeholder="Any special requests or notes..."
                                        />
                                    </div>

                                    <div className="flex justify-end space-x-3 pt-4">
                                        <button 
                                            type="button"
                                            onClick={resetForm}
                                            className="px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors"
                                        >
                                            Cancel
                                        </button>
                                        <button 
                                            type="submit"
                                            className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
                                        >
                                            {editingBooking ? 'Update Booking' : 'Create Booking'}
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}

                    {/* Calendar Sync Modal */}
                    {showCalendarSync && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-lg font-semibold">ðŸ“… Calendar Sync & Integration</h3>
                                    <button 
                                        onClick={() => setShowCalendarSync(false)}
                                        className="text-gray-500 hover:text-gray-700 text-2xl"
                                    >
                                        Ã—
                                    </button>
                                </div>

                                <div className="space-y-6">
                                    {/* Export Options */}
                                    <div className="border rounded-lg p-4">
                                        <h4 className="font-semibold mb-3 flex items-center gap-2">
                                            ðŸ“¤ Export Calendar
                                        </h4>
                                        <p className="text-sm text-gray-600 mb-3">
                                            Download your bookings as an .ics file to import into any calendar application.
                                        </p>
                                        <div className="flex gap-2">
                                            <button 
                                                onClick={exportToiCal}
                                                className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
                                            >
                                                ðŸ“… Download .ics File
                                            </button>
                                        </div>
                                    </div>

                                    {/* Subscription URLs */}
                                    <div className="border rounded-lg p-4">
                                        <h4 className="font-semibold mb-3 flex items-center gap-2">
                                            ðŸ”— Calendar Subscription
                                        </h4>
                                        <p className="text-sm text-gray-600 mb-3">
                                            Use these URLs to keep your calendar apps synchronized with live booking data.
                                        </p>
                                        
                                        <button 
                                            onClick={() => {
                                                loadCalendarUrls();
                                            }}
                                            className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors mb-4"
                                        >
                                            ðŸ”„ Generate Sync URLs
                                        </button>

                                        {calendarUrls && (
                                            <div className="space-y-4">
                                                <div className="bg-gray-50 p-3 rounded">
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">
                                                        ðŸ“± Standard Calendar URL:
                                                    </label>
                                                    <div className="flex gap-2">
                                                        <input 
                                                            type="text" 
                                                            value={calendarUrls.subscribe_url} 
                                                            readOnly 
                                                            className="flex-1 text-xs bg-white border rounded px-2 py-1 text-gray-600"
                                                        />
                                                        <button 
                                                            onClick={() => copyToClipboard(calendarUrls.subscribe_url)}
                                                            className="bg-gray-600 text-white px-3 py-1 text-xs rounded hover:bg-gray-700"
                                                        >
                                                            Copy
                                                        </button>
                                                    </div>
                                                </div>

                                                <div className="bg-gray-50 p-3 rounded">
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">
                                                        ðŸŽ Apple Calendar / Webcal URL:
                                                    </label>
                                                    <div className="flex gap-2">
                                                        <input 
                                                            type="text" 
                                                            value={calendarUrls.webcal_url} 
                                                            readOnly 
                                                            className="flex-1 text-xs bg-white border rounded px-2 py-1 text-gray-600"
                                                        />
                                                        <button 
                                                            onClick={() => copyToClipboard(calendarUrls.webcal_url)}
                                                            className="bg-gray-600 text-white px-3 py-1 text-xs rounded hover:bg-gray-700"
                                                        >
                                                            Copy
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                    </div>

                                    {/* Platform Instructions */}
                                    <div className="border rounded-lg p-4">
                                        <h4 className="font-semibold mb-3 flex items-center gap-2">
                                            ðŸ“š Integration Instructions
                                        </h4>
                                        
                                        <div className="space-y-4 text-sm">
                                            <div className="border-l-4 border-blue-500 pl-3">
                                                <h5 className="font-medium">ðŸ—“ï¸ Google Calendar</h5>
                                                <p className="text-gray-600">
                                                    1. Open Google Calendar<br/>
                                                    2. Click "+" next to "Other calendars"<br/>
                                                    3. Select "From URL"<br/>
                                                    4. Paste the Standard Calendar URL<br/>
                                                    5. Click "Add calendar"
                                                </p>
                                            </div>

                                            <div className="border-l-4 border-orange-500 pl-3">
                                                <h5 className="font-medium">ðŸ“§ Outlook</h5>
                                                <p className="text-gray-600">
                                                    1. Open Outlook Calendar<br/>
                                                    2. Click "Add calendar" â†’ "Subscribe from web"<br/>
                                                    3. Paste the Standard Calendar URL<br/>
                                                    4. Name your calendar and click "Import"
                                                </p>
                                            </div>

                                            <div className="border-l-4 border-gray-500 pl-3">
                                                <h5 className="font-medium">ðŸŽ Apple Calendar</h5>
                                                <p className="text-gray-600">
                                                    1. Open Calendar app<br/>
                                                    2. File â†’ New Calendar Subscription<br/>
                                                    3. Paste the Webcal URL<br/>
                                                    4. Configure settings and click "OK"
                                                </p>
                                            </div>

                                            <div className="border-l-4 border-red-500 pl-3">
                                                <h5 className="font-medium">ðŸ  Airbnb / Booking Platforms</h5>
                                                <p className="text-gray-600">
                                                    1. Go to your listing's calendar settings<br/>
                                                    2. Find "Import calendar" or "Sync calendar"<br/>
                                                    3. Paste the Standard Calendar URL<br/>
                                                    4. Set sync frequency (hourly recommended)
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div className="flex justify-end mt-6">
                                    <button 
                                        onClick={() => setShowCalendarSync(false)}
                                        className="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"
                                    >
                                        Close
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Rooms Management Section
        function RoomsSection() {
            const [rooms, setRooms] = useState([]);
            const [packages, setPackages] = useState([]);
            const [loading, setLoading] = useState(true);
            const [editingRoom, setEditingRoom] = useState(null);
            const [showAddForm, setShowAddForm] = useState(false);
            const [formData, setFormData] = useState({
                name: '',
                type: 'Standard',
                price: '',
                capacity: '',
                description: '',
                size: '',
                beds: '',
                features: [],
                amenities: [],
                images: [],
                available: true
            });

            const roomTypes = ['Standard', 'Deluxe', 'Suite', 'Family', 'Budget', 'Luxury', 'Business'];

            useEffect(() => {
                loadRooms();
                loadPackages();
            }, []);

            const loadRooms = async () => {
                try {
                    setLoading(true);
                    const response = await fetch(getApiUrl('rooms.php'));
                    const data = await response.json();
                    console.log('Rooms API Response:', data);
                    if (data.success) {
                        setRooms(data.data);
                        console.log('Rooms loaded:', data.data.length);
                    } else {
                        console.error('Error loading rooms:', data.error);
                        alert('Error loading rooms: ' + data.error);
                    }
                } catch (error) {
                    console.error('Error loading rooms:', error);
                    alert('Error loading rooms. Please check if XAMPP is running. Error: ' + error.message);
                } finally {
                    setLoading(false);
                }
            };

            const loadPackages = async () => {
                try {
                    const response = await fetch(getApiUrl('packages.php'));
                    const data = await response.json();
                    if (data.success) {
                        setPackages(data.data);
                    }
                } catch (error) {
                    console.error('Error loading packages:', error);
                }
            };

            const handleInputChange = (field, value) => {
                setFormData(prev => ({
                    ...prev,
                    [field]: value
                }));
            };

            const handleArrayChange = (field, value) => {
                const items = value.split(',').map(item => item.trim()).filter(item => item);
                setFormData(prev => ({
                    ...prev,
                    [field]: items
                }));
            };

            const resetForm = () => {
                setFormData({
                    name: '',
                    type: 'Standard',
                    price: '',
                    capacity: '',
                    description: '',
                    size: '',
                    beds: '',
                    features: [],
                    amenities: [],
                    images: [],
                    available: true
                });
                setEditingRoom(null);
                setShowAddForm(false);
            };

            const handleEdit = (room) => {
                setFormData({
                    name: room.name,
                    type: room.type,
                    price: room.price.toString(),
                    capacity: room.capacity.toString(),
                    description: room.description || '',
                    size: room.size || '',
                    beds: room.beds || '',
                    features: room.features || [],
                    amenities: room.amenities || [],
                    images: room.images || [],
                    available: room.available
                });
                setEditingRoom(room.id);
                setShowAddForm(true);
            };

            const handleSave = async () => {
                if (!formData.name || !formData.price) {
                    alert('Please fill in required fields (Name and Price)');
                    return;
                }

                const roomData = {
                    ...formData,
                    price: parseFloat(formData.price),
                    capacity: parseInt(formData.capacity) || 2
                };

                try {
                    if (editingRoom) {
                        // Update existing room
                        const response = await fetch(getApiUrl('rooms.php'), {
                            method: 'PUT',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ ...roomData, id: editingRoom })
                        });
                        
                        const result = await response.json();
                        if (result.success) {
                            alert('Room updated successfully!');
                            loadRooms();
                        } else {
                            alert('Error updating room: ' + result.error);
                            return;
                        }
                    } else {
                        // Add new room
                        const response = await fetch(getApiUrl('rooms.php'), {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(roomData)
                        });
                        
                        const result = await response.json();
                        if (result.success) {
                            alert('Room added successfully!');
                            loadRooms();
                        } else {
                            alert('Error adding room: ' + result.error);
                            return;
                        }
                    }

                    resetForm();
                } catch (error) {
                    console.error('Error saving room:', error);
                    alert('Error saving room. Please check if XAMPP is running.');
                }
            };

            const handleDelete = async (id) => {
                if (confirm('Are you sure you want to delete this room?')) {
                    try {
                        const response = await fetch(getApiUrl('rooms.php'), {
                            method: 'DELETE',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ id: id })
                        });
                        
                        const result = await response.json();
                        if (result.success) {
                            alert('Room deleted successfully!');
                            loadRooms();
                        } else {
                            alert('Error deleting room: ' + result.error);
                        }
                    } catch (error) {
                        console.error('Error deleting room:', error);
                        alert('Error deleting room. Please check if XAMPP is running.');
                    }
                }
            };

            const toggleAvailability = async (id) => {
                try {
                    const room = rooms.find(r => r.id === id);
                    if (!room) return;

                    const response = await fetch(getApiUrl('rooms.php'), {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ 
                            ...room, 
                            available: room.available ? 0 : 1 
                        })
                    });
                    
                    const result = await response.json();
                    if (result.success) {
                        loadRooms();
                    } else {
                        alert('Error updating room availability: ' + result.error);
                    }
                } catch (error) {
                    console.error('Error updating room availability:', error);
                    alert('Error updating room availability. Please check if XAMPP is running.');
                }
            };

            const getCompatiblePackages = (room) => {
                return packages.filter(pkg => 
                    (pkg.available || pkg.is_active) && 
                    pkg.max_guests <= room.capacity
                );
            };

            return (
                <div className="p-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Rooms Management</h2>
                        <div className="flex gap-2">
                            <button 
                                onClick={loadRooms}
                                className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
                            >
                                Refresh
                            </button>
                            <button 
                                onClick={() => setShowAddForm(true)}
                                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                            >
                                Add Room
                            </button>
                        </div>
                    </div>

                    {/* Add/Edit Form Modal */}
                    {showAddForm && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-lg font-semibold">
                                        {editingRoom ? 'Edit Room' : 'Add New Room'}
                                    </h3>
                                    <button 
                                        onClick={resetForm}
                                        className="text-gray-500 hover:text-gray-700"
                                    >
                                        âœ•
                                    </button>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Room Name*</label>
                                        <input
                                            type="text"
                                            value={formData.name}
                                            onChange={(e) => handleInputChange('name', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="Enter room name"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Room Type</label>
                                        <select
                                            value={formData.type}
                                            onChange={(e) => handleInputChange('type', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        >
                                            {roomTypes.map(type => (
                                                <option key={type} value={type}>{type}</option>
                                            ))}
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Price per Night ($)*</label>
                                        <input
                                            type="number"
                                            step="0.01"
                                            value={formData.price}
                                            onChange={(e) => handleInputChange('price', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="0.00"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Capacity (Guests)</label>
                                        <input
                                            type="number"
                                            min="1"
                                            value={formData.capacity}
                                            onChange={(e) => handleInputChange('capacity', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="2"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Room Size</label>
                                        <input
                                            type="text"
                                            value={formData.size}
                                            onChange={(e) => handleInputChange('size', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="e.g., 25 sqm"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Bed Configuration</label>
                                        <input
                                            type="text"
                                            value={formData.beds}
                                            onChange={(e) => handleInputChange('beds', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="e.g., 1 King Bed"
                                        />
                                    </div>

                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Description</label>
                                        <textarea
                                            value={formData.description}
                                            onChange={(e) => handleInputChange('description', e.target.value)}
                                            rows="3"
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="Enter room description"
                                        />
                                    </div>

                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Features (comma-separated)</label>
                                        <input
                                            type="text"
                                            value={formData.features.join(', ')}
                                            onChange={(e) => handleArrayChange('features', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="e.g., City View, Balcony, Work Desk"
                                        />
                                    </div>

                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Amenities (comma-separated)</label>
                                        <input
                                            type="text"
                                            value={formData.amenities.join(', ')}
                                            onChange={(e) => handleArrayChange('amenities', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="e.g., WiFi, Air Conditioning, Minibar"
                                        />
                                    </div>

                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Image URLs (comma-separated)</label>
                                        <input
                                            type="text"
                                            value={formData.images.join(', ')}
                                            onChange={(e) => handleArrayChange('images', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="https://example.com/image1.jpg, https://example.com/image2.jpg"
                                        />
                                    </div>

                                    <div className="md:col-span-2">
                                        <label className="flex items-center">
                                            <input
                                                type="checkbox"
                                                checked={formData.available}
                                                onChange={(e) => handleInputChange('available', e.target.checked)}
                                                className="mr-2"
                                            />
                                            <span className="text-sm font-medium text-gray-700">Room Available</span>
                                        </label>
                                    </div>
                                </div>

                                <div className="flex gap-2 mt-6">
                                    <button
                                        onClick={handleSave}
                                        className="flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
                                    >
                                        {editingRoom ? 'Update Room' : 'Add Room'}
                                    </button>
                                    <button
                                        onClick={resetForm}
                                        className="flex-1 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors"
                                    >
                                        Cancel
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {loading ? (
                        <div className="text-center py-8">Loading rooms...</div>
                    ) : (
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {rooms.map((room) => (
                                <div key={room.id} className="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
                                    <div className="flex justify-between items-start mb-4">
                                        <h3 className="text-lg font-semibold text-gray-900">{room.name}</h3>
                                        <button
                                            onClick={() => toggleAvailability(room.id)}
                                            className={`px-2 py-1 text-xs rounded-full cursor-pointer transition-colors ${
                                                room.available 
                                                    ? 'bg-green-100 text-green-800 hover:bg-green-200' 
                                                    : 'bg-red-100 text-red-800 hover:bg-red-200'
                                            }`}
                                        >
                                            {room.available ? 'Available' : 'Unavailable'}
                                        </button>
                                    </div>
                                    <div className="space-y-2 text-sm text-gray-600 mb-4">
                                        <p><span className="font-medium">Type:</span> {room.type}</p>
                                        <p><span className="font-medium">Price:</span> ${room.price}/night</p>
                                        <p><span className="font-medium">Capacity:</span> {room.capacity} guests</p>
                                        {room.size && <p><span className="font-medium">Size:</span> {room.size}</p>}
                                        {room.beds && <p><span className="font-medium">Beds:</span> {room.beds}</p>}
                                        {room.features && room.features.length > 0 && (
                                            <div>
                                                <span className="font-medium">Features:</span>
                                                <ul className="list-disc list-inside ml-2 mt-1">
                                                    {room.features.slice(0, 3).map((feature, index) => (
                                                        <li key={index} className="text-xs">{feature}</li>
                                                    ))}
                                                </ul>
                                            </div>
                                        )}
                                        {getCompatiblePackages(room).length > 0 && (
                                            <div>
                                                <span className="font-medium">Compatible Packages:</span>
                                                <div className="flex flex-wrap gap-1 mt-1">
                                                    {getCompatiblePackages(room).slice(0, 2).map((pkg, index) => (
                                                        <span key={index} className="px-1 py-0.5 text-xs bg-blue-100 text-blue-800 rounded">
                                                            {pkg.name}
                                                        </span>
                                                    ))}
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                    <div className="flex gap-2">
                                        <button 
                                            onClick={() => handleEdit(room)}
                                            className="flex-1 bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 transition-colors"
                                        >
                                            Edit
                                        </button>
                                        <button 
                                            onClick={() => handleDelete(room.id)}
                                            className="flex-1 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 transition-colors"
                                        >
                                            Delete
                                        </button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        }

        // Packages Management Section
        function PackagesSection() {
            const [packages, setPackages] = useState([]);
            const [loading, setLoading] = useState(true);
            const [editingPackage, setEditingPackage] = useState(null);
            const [showAddForm, setShowAddForm] = useState(false);
            const [formData, setFormData] = useState({
                name: '',
                description: '',
                package_type: 'business',
                base_price: '',
                discount_percentage: '',
                min_nights: '',
                max_nights: '',
                max_guests: '',
                is_active: true,
                includes: '', // Store as string for easier typing
                valid_from: '',
                valid_until: '',
                terms: '',
                image_url: ''
            });

            const packageTypes = ['romantic', 'business', 'family', 'luxury', 'weekend', 'holiday', 'spa', 'adventure'];

            useEffect(() => {
                loadPackages();
            }, []);

            const loadPackages = async () => {
                try {
                    setLoading(true);
                    const response = await fetch(getApiUrl('packages.php'));
                    const data = await response.json();
                    console.log('API Response:', data);
                    if (data.success) {
                        setPackages(data.data);
                        console.log('Packages loaded:', data.data.length);
                    } else {
                        console.error('Error loading packages:', data.error);
                        alert('Error loading packages: ' + data.error);
                    }
                } catch (error) {
                    console.error('Error loading packages:', error);
                    alert('Error loading packages. Please check if XAMPP is running. Error: ' + error.message);
                } finally {
                    setLoading(false);
                }
            };

            const handleInputChange = (field, value) => {
                setFormData(prev => ({
                    ...prev,
                    [field]: value
                }));
            };

            const handleIncludesChange = (value) => {
                // Store the raw string value, don't process until save
                setFormData(prev => ({
                    ...prev,
                    includes: value // Store as string, not array
                }));
            };

            const resetForm = () => {
                setFormData({
                    name: '',
                    description: '',
                    package_type: 'business',
                    base_price: '',
                    discount_percentage: '',
                    min_nights: '',
                    max_nights: '',
                    max_guests: '',
                    is_active: true,
                    includes: '',
                    valid_from: '',
                    valid_until: '',
                    terms: '',
                    image_url: ''
                });
                setEditingPackage(null);
                setShowAddForm(false);
            };

            const handleEdit = (pkg) => {
                const includesValue = pkg.inclusions || pkg.includes || [];
                const includesString = Array.isArray(includesValue) ? includesValue.join(', ') : includesValue.toString();
                
                setFormData({
                    name: pkg.name,
                    description: pkg.description,
                    package_type: pkg.type || pkg.package_type, // Handle both field names
                    base_price: (pkg.price || pkg.base_price || 0).toString(), // Handle both field names
                    discount_percentage: (pkg.discount_percentage || 0).toString(),
                    min_nights: (pkg.min_nights || 1).toString(),
                    max_nights: (pkg.max_nights || 30).toString(),
                    max_guests: (pkg.max_guests || 2).toString(),
                    is_active: pkg.available || pkg.is_active || true,
                    includes: includesString,
                    valid_from: pkg.valid_from || '',
                    valid_until: pkg.valid_until || '',
                    terms: pkg.terms_conditions || pkg.terms || '',
                    image_url: pkg.image_url || ''
                });
                setEditingPackage(pkg.id);
                setShowAddForm(true);
            };

            const handleSave = async () => {
                if (!formData.name || !formData.base_price) {
                    alert('Please fill in required fields (Name and Base Price)');
                    return;
                }

                // Convert includes string to array for API
                const includesArray = formData.includes 
                    ? formData.includes.split(',').map(item => item.trim()).filter(item => item)
                    : [];

                // Convert image_url to images array format
                const imagesArray = formData.image_url 
                    ? [formData.image_url.trim()] 
                    : [];

                const packageData = {
                    ...formData,
                    price: parseFloat(formData.base_price), // Convert base_price to price for API
                    base_price: parseFloat(formData.base_price), // Keep for backward compatibility
                    type: formData.package_type, // Convert package_type to type for API
                    package_type: formData.package_type, // Keep for backward compatibility
                    inclusions: includesArray, // Convert includes to inclusions for API
                    includes: includesArray, // Keep for backward compatibility
                    images: imagesArray, // Convert image_url to images array for API
                    image_url: formData.image_url, // Keep for backward compatibility
                    available: formData.is_active ? 1 : 0, // Convert is_active to available for API
                    is_active: formData.is_active, // Keep for backward compatibility
                    discount_percentage: parseInt(formData.discount_percentage) || 0,
                    min_nights: parseInt(formData.min_nights) || 1,
                    max_nights: parseInt(formData.max_nights) || 30,
                    max_guests: parseInt(formData.max_guests) || 1
                };

                try {
                    if (editingPackage) {
                        // Update existing package
                        const response = await fetch(getApiUrl('packages.php'), {
                            method: 'PUT',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ ...packageData, id: editingPackage })
                        });
                        
                        const result = await response.json();
                        if (result.success) {
                            alert('Package updated successfully!');
                            loadPackages(); // Reload packages from database
                        } else {
                            alert('Error updating package: ' + result.error);
                            return;
                        }
                    } else {
                        // Add new package
                        const response = await fetch(getApiUrl('packages.php'), {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(packageData)
                        });
                        
                        const result = await response.json();
                        if (result.success) {
                            alert('Package added successfully!');
                            loadPackages(); // Reload packages from database
                        } else {
                            alert('Error adding package: ' + result.error);
                            return;
                        }
                    }

                    resetForm();
                } catch (error) {
                    console.error('Error saving package:', error);
                    alert('Error saving package. Please check if XAMPP is running.');
                }
            };

            const handleDelete = async (id) => {
                if (confirm('Are you sure you want to delete this package?')) {
                    try {
                        const response = await fetch(getApiUrl('packages.php'), {
                            method: 'DELETE',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ id: id })
                        });
                        
                        const result = await response.json();
                        if (result.success) {
                            alert('Package deleted successfully!');
                            loadPackages(); // Reload packages from database
                        } else {
                            alert('Error deleting package: ' + result.error);
                        }
                    } catch (error) {
                        console.error('Error deleting package:', error);
                        alert('Error deleting package. Please check if XAMPP is running.');
                    }
                }
            };

            const toggleStatus = async (id) => {
                try {
                    const packageData = packages.find(pkg => pkg.id === id);
                    if (!packageData) return;

                    const response = await fetch(getApiUrl('packages.php'), {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ 
                            ...packageData, 
                            available: packageData.available ? 0 : 1 
                        })
                    });
                    
                    const result = await response.json();
                    if (result.success) {
                        loadPackages(); // Reload packages from database
                    } else {
                        alert('Error updating package status: ' + result.error);
                    }
                } catch (error) {
                    console.error('Error updating package status:', error);
                    alert('Error updating package status. Please check if XAMPP is running.');
                }
            };

            return (
                <div className="p-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Packages Management</h2>
                        <div className="flex gap-2">
                            <button 
                                onClick={loadPackages}
                                className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
                            >
                                Refresh
                            </button>
                            <button 
                                onClick={() => setShowAddForm(true)}
                                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                            >
                                Add Package
                            </button>
                        </div>
                    </div>

                    {/* Add/Edit Form Modal */}
                    {showAddForm && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-lg font-semibold">
                                        {editingPackage ? 'Edit Package' : 'Add New Package'}
                                    </h3>
                                    <button 
                                        onClick={resetForm}
                                        className="text-gray-500 hover:text-gray-700"
                                    >
                                        âœ•
                                    </button>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Package Name*</label>
                                        <input
                                            type="text"
                                            value={formData.name}
                                            onChange={(e) => handleInputChange('name', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="Enter package name"
                                        />
                                    </div>

                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Description</label>
                                        <textarea
                                            value={formData.description}
                                            onChange={(e) => handleInputChange('description', e.target.value)}
                                            rows="3"
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="Enter package description"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Package Type</label>
                                        <select
                                            value={formData.package_type}
                                            onChange={(e) => handleInputChange('package_type', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        >
                                            {packageTypes.map(type => (
                                                <option key={type} value={type}>{type}</option>
                                            ))}
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Base Price ($)*</label>
                                        <input
                                            type="number"
                                            step="0.01"
                                            value={formData.base_price}
                                            onChange={(e) => handleInputChange('base_price', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="0.00"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Discount (%)</label>
                                        <input
                                            type="number"
                                            min="0"
                                            max="100"
                                            value={formData.discount_percentage}
                                            onChange={(e) => handleInputChange('discount_percentage', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="0"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Max Guests</label>
                                        <input
                                            type="number"
                                            min="1"
                                            value={formData.max_guests}
                                            onChange={(e) => handleInputChange('max_guests', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="1"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Min Nights</label>
                                        <input
                                            type="number"
                                            min="1"
                                            value={formData.min_nights}
                                            onChange={(e) => handleInputChange('min_nights', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="1"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Max Nights</label>
                                        <input
                                            type="number"
                                            min="1"
                                            value={formData.max_nights}
                                            onChange={(e) => handleInputChange('max_nights', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="30"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Valid From</label>
                                        <input
                                            type="date"
                                            value={formData.valid_from}
                                            onChange={(e) => handleInputChange('valid_from', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Valid Until</label>
                                        <input
                                            type="date"
                                            value={formData.valid_until}
                                            onChange={(e) => handleInputChange('valid_until', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                    </div>

                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Package Includes (comma-separated)</label>
                                        <input
                                            type="text"
                                            value={formData.includes}
                                            onChange={(e) => handleIncludesChange(e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="e.g., Breakfast, WiFi, Parking"
                                        />
                                    </div>

                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Terms & Conditions</label>
                                        <textarea
                                            value={formData.terms}
                                            onChange={(e) => handleInputChange('terms', e.target.value)}
                                            rows="3"
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="Enter terms and conditions for this package"
                                        />
                                    </div>

                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Image URL</label>
                                        <input
                                            type="url"
                                            value={formData.image_url}
                                            onChange={(e) => handleInputChange('image_url', e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="https://example.com/image.jpg"
                                        />
                                    </div>

                                    <div className="md:col-span-2">
                                        <label className="flex items-center">
                                            <input
                                                type="checkbox"
                                                checked={formData.is_active}
                                                onChange={(e) => handleInputChange('is_active', e.target.checked)}
                                                className="mr-2"
                                            />
                                            <span className="text-sm font-medium text-gray-700">Active Package</span>
                                        </label>
                                    </div>
                                </div>

                                <div className="flex gap-2 mt-6">
                                    <button
                                        onClick={handleSave}
                                        className="flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
                                    >
                                        {editingPackage ? 'Update Package' : 'Add Package'}
                                    </button>
                                    <button
                                        onClick={resetForm}
                                        className="flex-1 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors"
                                    >
                                        Cancel
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {loading ? (
                        <div className="text-center py-8">Loading packages...</div>
                    ) : (
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                            {packages.map((pkg) => (
                                <div key={pkg.id} className="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
                                    <div className="flex justify-between items-start mb-4">
                                        <h3 className="text-lg font-semibold text-gray-900">{pkg.name}</h3>
                                        <div className="flex gap-2">
                                            <button
                                                onClick={() => toggleStatus(pkg.id)}
                                                className={`px-2 py-1 text-xs rounded-full cursor-pointer transition-colors ${
                                                    (pkg.available || pkg.is_active) 
                                                        ? 'bg-green-100 text-green-800 hover:bg-green-200' 
                                                        : 'bg-red-100 text-red-800 hover:bg-red-200'
                                                }`}
                                            >
                                                {(pkg.available || pkg.is_active) ? 'Active' : 'Inactive'}
                                            </button>
                                            <span className="px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">
                                                {pkg.discount_percentage}% OFF
                                            </span>
                                        </div>
                                    </div>
                                    <p className="text-sm text-gray-600 mb-4">{pkg.description}</p>
                                    <div className="space-y-2 text-sm text-gray-600 mb-4">
                                        <p><span className="font-medium">Type:</span> {pkg.type || pkg.package_type}</p>
                                        <p><span className="font-medium">Price:</span> ${pkg.price || pkg.base_price}</p>
                                        <p><span className="font-medium">Duration:</span> {pkg.duration_days || `${pkg.min_nights}-${pkg.max_nights}`} {pkg.duration_days ? 'days' : 'nights'}</p>
                                        <p><span className="font-medium">Max Guests:</span> {pkg.max_guests}</p>
                                        {pkg.valid_from && pkg.valid_until && (
                                            <p><span className="font-medium">Valid:</span> {pkg.valid_from} to {pkg.valid_until}</p>
                                        )}
                                        {(pkg.inclusions || pkg.includes) && (pkg.inclusions || pkg.includes).length > 0 && (
                                            <div>
                                                <span className="font-medium">Includes:</span>
                                                <ul className="list-disc list-inside ml-2 mt-1">
                                                    {(pkg.inclusions || pkg.includes).map((item, index) => (
                                                        <li key={index} className="text-xs">{item}</li>
                                                    ))}
                                                </ul>
                                            </div>
                                        )}
                                        {pkg.terms && (
                                            <div>
                                                <span className="font-medium">Terms:</span>
                                                <p className="text-xs mt-1">{pkg.terms}</p>
                                            </div>
                                        )}
                                        {pkg.image_url && (
                                            <p><span className="font-medium">Image:</span> 
                                                <a href={pkg.image_url} target="_blank" className="text-blue-600 hover:text-blue-800 ml-1">View Image</a>
                                            </p>
                                        )}
                                    </div>
                                    <div className="flex gap-2">
                                        <button 
                                            onClick={() => handleEdit(pkg)}
                                            className="flex-1 bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 transition-colors"
                                        >
                                            Edit
                                        </button>
                                        <button 
                                            onClick={() => handleDelete(pkg.id)}
                                            className="flex-1 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 transition-colors"
                                        >
                                            Delete
                                        </button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        }

        // Villa Information Section
        function VillaInfoSection() {
            const [villaInfo, setVillaInfo] = useState({
                name: 'Serene Mountain Retreat',
                location: 'Aspen, Colorado',
                description: 'Escape to this stunning mountain retreat where modern luxury meets rustic charm. Nestled in the heart of the Rockies, this villa offers breathtaking views, unparalleled comfort, and direct access to world-class ski slopes and hiking trails. Perfect for family vacations, romantic getaways, or corporate retreats.',
                rating: 4.9,
                reviews: 128,
                images: [
                    'https://images.unsplash.com/photo-1580587771525-78b9dba3b914?q=80&w=2574&auto=format&fit=crop',
                    'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=2670&auto=format&fit=crop',
                    'https://images.unsplash.com/photo-1613977257363-3116958f136b?q=80&w=2670&auto=format&fit=crop',
                    'https://images.unsplash.com/photo-1593696140826-c58b02198d4a?q=80&w=2670&auto=format&fit=crop',
                    'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=2670&auto=format&fit=crop'
                ],
                amenities: [
                    { name: 'High-speed Wifi', icon: 'Wifi' },
                    { name: 'Private Hot Tub', icon: 'Bath' },
                    { name: 'Indoor Fireplace', icon: 'Flame' },
                    { name: 'Fully Equipped Kitchen', icon: 'CookingPot' },
                    { name: 'Free Parking on Premises', icon: 'Car' },
                    { name: 'Central Air & Heating', icon: 'AirVent' }
                ]
            });
            const [isEditing, setIsEditing] = useState(false);
            const [saving, setSaving] = useState(false);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                loadVillaInfo();
            }, []);

            const loadVillaInfo = async () => {
                try {
                    const response = await fetch('/api/villa.php');
                    const data = await response.json();
                    if (data.success && data.data) {
                        setVillaInfo(data.data);
                    }
                } catch (error) {
                    console.error('Error loading villa info:', error);
                } finally {
                    setLoading(false);
                }
            };

            const handleInputChange = (field, value) => {
                setVillaInfo(prev => ({
                    ...prev,
                    [field]: value
                }));
            };

            const handleImageChange = (index, value) => {
                const newImages = [...villaInfo.images];
                newImages[index] = value;
                setVillaInfo(prev => ({
                    ...prev,
                    images: newImages
                }));
            };

            const addImage = () => {
                setVillaInfo(prev => ({
                    ...prev,
                    images: [...prev.images, '']
                }));
            };

            const removeImage = (index) => {
                const newImages = villaInfo.images.filter((_, i) => i !== index);
                setVillaInfo(prev => ({
                    ...prev,
                    images: newImages
                }));
            };

            const handleAmenityChange = (index, field, value) => {
                const newAmenities = [...villaInfo.amenities];
                newAmenities[index] = { ...newAmenities[index], [field]: value };
                setVillaInfo(prev => ({
                    ...prev,
                    amenities: newAmenities
                }));
            };

            const addAmenity = () => {
                setVillaInfo(prev => ({
                    ...prev,
                    amenities: [...prev.amenities, { name: '', icon: 'Star' }]
                }));
            };

            const removeAmenity = (index) => {
                const newAmenities = villaInfo.amenities.filter((_, i) => i !== index);
                setVillaInfo(prev => ({
                    ...prev,
                    amenities: newAmenities
                }));
            };

            const handleSave = async () => {
                setSaving(true);
                try {
                    const response = await fetch('/api/villa.php', {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(villaInfo),
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        setIsEditing(false);
                        alert('Villa information updated successfully!');
                    } else {
                        alert('Error updating villa information: ' + result.error);
                    }
                } catch (error) {
                    alert('Error updating villa information');
                    console.error('Error:', error);
                } finally {
                    setSaving(false);
                }
            };

            if (loading) {
                return (
                    <div className="p-6">
                        <div className="text-center py-8">Loading villa information...</div>
                    </div>
                );
            }

            return (
                <div className="p-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Villa Information</h2>
                        <div className="flex gap-2">
                            {!isEditing ? (
                                <button 
                                    onClick={() => setIsEditing(true)}
                                    className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                                >
                                    Edit Villa Info
                                </button>
                            ) : (
                                <>
                                    <button 
                                        onClick={() => setIsEditing(false)}
                                        className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors"
                                    >
                                        Cancel
                                    </button>
                                    <button 
                                        onClick={handleSave}
                                        disabled={saving}
                                        className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50"
                                    >
                                        {saving ? 'Saving...' : 'Save Changes'}
                                    </button>
                                </>
                            )}
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        {/* Basic Information */}
                        <div className="space-y-6">
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <h3 className="text-lg font-semibold text-gray-900 mb-4">Basic Information</h3>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Villa Name</label>
                                        {isEditing ? (
                                            <input
                                                type="text"
                                                value={villaInfo.name}
                                                onChange={(e) => handleInputChange('name', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{villaInfo.name}</p>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Location</label>
                                        {isEditing ? (
                                            <input
                                                type="text"
                                                value={villaInfo.location}
                                                onChange={(e) => handleInputChange('location', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{villaInfo.location}</p>
                                        )}
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Rating</label>
                                            {isEditing ? (
                                                <input
                                                    type="number"
                                                    min="0"
                                                    max="5"
                                                    step="0.1"
                                                    value={villaInfo.rating}
                                                    onChange={(e) => handleInputChange('rating', parseFloat(e.target.value))}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{villaInfo.rating} / 5</p>
                                            )}
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Reviews Count</label>
                                            {isEditing ? (
                                                <input
                                                    type="number"
                                                    min="0"
                                                    value={villaInfo.reviews}
                                                    onChange={(e) => handleInputChange('reviews', parseInt(e.target.value))}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{villaInfo.reviews} reviews</p>
                                            )}
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Description</label>
                                        {isEditing ? (
                                            <textarea
                                                value={villaInfo.description}
                                                onChange={(e) => handleInputChange('description', e.target.value)}
                                                rows="4"
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{villaInfo.description}</p>
                                        )}
                                    </div>
                                </div>
                            </div>

                            {/* Images Section */}
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-lg font-semibold text-gray-900">Images</h3>
                                    {isEditing && (
                                        <button
                                            onClick={addImage}
                                            className="bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700"
                                        >
                                            Add Image
                                        </button>
                                    )}
                                </div>
                                <div className="space-y-3">
                                    {villaInfo.images.map((image, index) => (
                                        <div key={index} className="flex items-center gap-2">
                                            {isEditing ? (
                                                <>
                                                    <input
                                                        type="url"
                                                        value={image}
                                                        onChange={(e) => handleImageChange(index, e.target.value)}
                                                        placeholder="Image URL"
                                                        className="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                    />
                                                    <button
                                                        onClick={() => removeImage(index)}
                                                        className="bg-red-600 text-white px-2 py-2 rounded text-sm hover:bg-red-700"
                                                    >
                                                        Remove
                                                    </button>
                                                </>
                                            ) : (
                                                <div className="flex items-center gap-3">
                                                    <img 
                                                        src={image} 
                                                        alt={`Villa image ${index + 1}`} 
                                                        className="w-16 h-16 object-cover rounded"
                                                    />
                                                    <p className="text-sm text-gray-600 truncate flex-1">{image}</p>
                                                </div>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>

                        {/* Amenities */}
                        <div className="space-y-6">
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-lg font-semibold text-gray-900">Amenities</h3>
                                    {isEditing && (
                                        <button
                                            onClick={addAmenity}
                                            className="bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700"
                                        >
                                            Add Amenity
                                        </button>
                                    )}
                                </div>
                                <div className="space-y-3">
                                    {villaInfo.amenities.map((amenity, index) => (
                                        <div key={index} className="flex items-center gap-2">
                                            {isEditing ? (
                                                <>
                                                    <input
                                                        type="text"
                                                        value={amenity.name}
                                                        onChange={(e) => handleAmenityChange(index, 'name', e.target.value)}
                                                        placeholder="Amenity name"
                                                        className="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                    />
                                                    <select
                                                        value={amenity.icon}
                                                        onChange={(e) => handleAmenityChange(index, 'icon', e.target.value)}
                                                        className="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                    >
                                                        <option value="Wifi">Wifi</option>
                                                        <option value="Bath">Bath</option>
                                                        <option value="Flame">Flame</option>
                                                        <option value="CookingPot">CookingPot</option>
                                                        <option value="Car">Car</option>
                                                        <option value="AirVent">AirVent</option>
                                                        <option value="Star">Star</option>
                                                        <option value="Home">Home</option>
                                                        <option value="Coffee">Coffee</option>
                                                        <option value="Tv">Tv</option>
                                                    </select>
                                                    <button
                                                        onClick={() => removeAmenity(index)}
                                                        className="bg-red-600 text-white px-2 py-2 rounded text-sm hover:bg-red-700"
                                                    >
                                                        Remove
                                                    </button>
                                                </>
                                            ) : (
                                                <div className="flex items-center gap-3 p-2 bg-white rounded">
                                                    <span className="text-gray-600">{amenity.icon}</span>
                                                    <span className="text-gray-900">{amenity.name}</span>
                                                </div>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Business Details Section
        function BusinessDetailsSection() {
            const [businessDetails, setBusinessDetails] = useState({
                name: 'Grand Luxury Hotel',
                email: 'info@grandluxuryhotel.com',
                phone: '+1 (555) 123-4567',
                address: '123 Luxury Avenue',
                city: 'New York',
                state: 'NY',
                zipCode: '10001',
                country: 'United States',
                website: 'https://grandluxuryhotel.com',
                description: 'Experience unparalleled luxury and comfort at our prestigious hotel located in the heart of the city.',
                checkInTime: '15:00',
                checkOutTime: '11:00',
                currency: 'USD',
                taxRate: '10.5',
                cancellationPolicy: '24',
                paymentMethods: ['Credit Card', 'Debit Card', 'PayPal'],
                socialMedia: {
                    facebook: 'https://facebook.com/grandluxuryhotel',
                    instagram: 'https://instagram.com/grandluxuryhotel',
                    twitter: 'https://twitter.com/grandluxuryhotel'
                }
            });
            const [isEditing, setIsEditing] = useState(false);
            const [saving, setSaving] = useState(false);

            const handleInputChange = (field, value) => {
                if (field.includes('.')) {
                    const [parent, child] = field.split('.');
                    setBusinessDetails(prev => ({
                        ...prev,
                        [parent]: {
                            ...prev[parent],
                            [child]: value
                        }
                    }));
                } else {
                    setBusinessDetails(prev => ({
                        ...prev,
                        [field]: value
                    }));
                }
            };

            const handleSave = async () => {
                setSaving(true);
                try {
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    setIsEditing(false);
                    alert('Business details updated successfully!');
                } catch (error) {
                    alert('Error updating business details');
                } finally {
                    setSaving(false);
                }
            };

            return (
                <div className="p-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Business Details</h2>
                        <div className="flex gap-2">
                            {!isEditing ? (
                                <button 
                                    onClick={() => setIsEditing(true)}
                                    className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                                >
                                    Edit Details
                                </button>
                            ) : (
                                <>
                                    <button 
                                        onClick={() => setIsEditing(false)}
                                        className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors"
                                    >
                                        Cancel
                                    </button>
                                    <button 
                                        onClick={handleSave}
                                        disabled={saving}
                                        className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50"
                                    >
                                        {saving ? 'Saving...' : 'Save Changes'}
                                    </button>
                                </>
                            )}
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        {/* Basic Information */}
                        <div className="space-y-6">
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <h3 className="text-lg font-semibold text-gray-900 mb-4">Basic Information</h3>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Business Name</label>
                                        {isEditing ? (
                                            <input
                                                type="text"
                                                value={businessDetails.name}
                                                onChange={(e) => handleInputChange('name', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.name}</p>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                        {isEditing ? (
                                            <input
                                                type="email"
                                                value={businessDetails.email}
                                                onChange={(e) => handleInputChange('email', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.email}</p>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                        {isEditing ? (
                                            <input
                                                type="tel"
                                                value={businessDetails.phone}
                                                onChange={(e) => handleInputChange('phone', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.phone}</p>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Website</label>
                                        {isEditing ? (
                                            <input
                                                type="url"
                                                value={businessDetails.website}
                                                onChange={(e) => handleInputChange('website', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <a href={businessDetails.website} target="_blank" className="text-blue-600 hover:text-blue-800">
                                                {businessDetails.website}
                                            </a>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Description</label>
                                        {isEditing ? (
                                            <textarea
                                                value={businessDetails.description}
                                                onChange={(e) => handleInputChange('description', e.target.value)}
                                                rows="3"
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.description}</p>
                                        )}
                                    </div>
                                </div>
                            </div>

                            {/* Address Information */}
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <h3 className="text-lg font-semibold text-gray-900 mb-4">Address</h3>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Street Address</label>
                                        {isEditing ? (
                                            <input
                                                type="text"
                                                value={businessDetails.address}
                                                onChange={(e) => handleInputChange('address', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.address}</p>
                                        )}
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">City</label>
                                            {isEditing ? (
                                                <input
                                                    type="text"
                                                    value={businessDetails.city}
                                                    onChange={(e) => handleInputChange('city', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.city}</p>
                                            )}
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">State</label>
                                            {isEditing ? (
                                                <input
                                                    type="text"
                                                    value={businessDetails.state}
                                                    onChange={(e) => handleInputChange('state', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.state}</p>
                                            )}
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">ZIP Code</label>
                                            {isEditing ? (
                                                <input
                                                    type="text"
                                                    value={businessDetails.zipCode}
                                                    onChange={(e) => handleInputChange('zipCode', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.zipCode}</p>
                                            )}
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Country</label>
                                            {isEditing ? (
                                                <input
                                                    type="text"
                                                    value={businessDetails.country}
                                                    onChange={(e) => handleInputChange('country', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.country}</p>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Hotel Settings */}
                        <div className="space-y-6">
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <h3 className="text-lg font-semibold text-gray-900 mb-4">Hotel Settings</h3>
                                <div className="space-y-4">
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Check-in Time</label>
                                            {isEditing ? (
                                                <input
                                                    type="time"
                                                    value={businessDetails.checkInTime}
                                                    onChange={(e) => handleInputChange('checkInTime', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.checkInTime}</p>
                                            )}
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Check-out Time</label>
                                            {isEditing ? (
                                                <input
                                                    type="time"
                                                    value={businessDetails.checkOutTime}
                                                    onChange={(e) => handleInputChange('checkOutTime', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.checkOutTime}</p>
                                            )}
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Currency</label>
                                            {isEditing ? (
                                                <select
                                                    value={businessDetails.currency}
                                                    onChange={(e) => handleInputChange('currency', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                >
                                                    <option value="USD">USD ($)</option>
                                                    <option value="EUR">EUR (â‚¬)</option>
                                                    <option value="GBP">GBP (Â£)</option>
                                                    <option value="JPY">JPY (Â¥)</option>
                                                </select>
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.currency}</p>
                                            )}
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Tax Rate (%)</label>
                                            {isEditing ? (
                                                <input
                                                    type="number"
                                                    step="0.1"
                                                    value={businessDetails.taxRate}
                                                    onChange={(e) => handleInputChange('taxRate', e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                            ) : (
                                                <p className="text-gray-900">{businessDetails.taxRate}%</p>
                                            )}
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Cancellation Policy (hours)</label>
                                        {isEditing ? (
                                            <input
                                                type="number"
                                                value={businessDetails.cancellationPolicy}
                                                onChange={(e) => handleInputChange('cancellationPolicy', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <p className="text-gray-900">{businessDetails.cancellationPolicy} hours before check-in</p>
                                        )}
                                    </div>
                                </div>
                            </div>

                            {/* Social Media */}
                            <div className="bg-gray-50 p-6 rounded-lg">
                                <h3 className="text-lg font-semibold text-gray-900 mb-4">Social Media</h3>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Facebook</label>
                                        {isEditing ? (
                                            <input
                                                type="url"
                                                value={businessDetails.socialMedia.facebook}
                                                onChange={(e) => handleInputChange('socialMedia.facebook', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <a href={businessDetails.socialMedia.facebook} target="_blank" className="text-blue-600 hover:text-blue-800">
                                                {businessDetails.socialMedia.facebook}
                                            </a>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Instagram</label>
                                        {isEditing ? (
                                            <input
                                                type="url"
                                                value={businessDetails.socialMedia.instagram}
                                                onChange={(e) => handleInputChange('socialMedia.instagram', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <a href={businessDetails.socialMedia.instagram} target="_blank" className="text-blue-600 hover:text-blue-800">
                                                {businessDetails.socialMedia.instagram}
                                            </a>
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Twitter</label>
                                        {isEditing ? (
                                            <input
                                                type="url"
                                                value={businessDetails.socialMedia.twitter}
                                                onChange={(e) => handleInputChange('socialMedia.twitter', e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            />
                                        ) : (
                                            <a href={businessDetails.socialMedia.twitter} target="_blank" className="text-blue-600 hover:text-blue-800">
                                                {businessDetails.socialMedia.twitter}
                                            </a>
                                        )}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function SettingsSection() {
            return (
                <div className="p-6">
                    <h2 className="text-2xl font-bold text-gray-900 mb-6">System Settings</h2>
                    <div className="text-center py-12 text-gray-600">
                        <p>Settings panel coming soon...</p>
                    </div>
                </div>
            );
        }

        // Render the app
        ReactDOM.render(<AdminDashboard />, document.getElementById('admin-root'));
    </script>
</body>
</html>
