<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API URL Test</title>
</head>
<body>
    <h1>API URL Configuration Test</h1>
    <div id="results"></div>

    <!-- Load config.js -->
    <script src="config.js"></script>
    
    <script>
        // Test the API URL construction
        const results = document.getElementById('results');
        
        function addResult(label, value) {
            const div = document.createElement('div');
            div.innerHTML = `<strong>${label}:</strong> ${value}`;
            results.appendChild(div);
        }
        
        // Test configuration
        addResult('Environment', CONFIG.API.ENVIRONMENT);
        addResult('Base URL', getApiBaseUrl());
        addResult('Villa API URL', getApiUrl('villa.php'));
        addResult('Full Villa URL', getApiUrl('villa.php'));
        
        // Test actual API call
        const villaUrl = getApiUrl('villa.php');
        addResult('Testing URL', villaUrl);
        
        fetch(villaUrl)
            .then(response => {
                addResult('Response Status', response.status);
                addResult('Response OK', response.ok);
                return response.json();
            })
            .then(data => {
                addResult('API Response Success', data.success);
                addResult('Villa Name from API', data.data ? data.data.name : 'N/A');
            })
            .catch(error => {
                addResult('API Error', error.message);
                console.error('Full error:', error);
            });
    </script>
</body>
</html>