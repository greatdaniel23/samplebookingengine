const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-DRwkdMO2.js","assets/chunk-BfjTAQ50.js","assets/chunk-Bnqotz6N.js","assets/chunk-IFZ57GWh.js","assets/chunk-C4Hn4TPf.js","assets/RoomDetails-tuUpqmTw.js","assets/Packages-CVMxrG9Z.js","assets/PackageDetails-CEyAoAiH.js","assets/NotFound-CNKlI9OE.js","assets/ImageGalleryPage-B_amc3DZ.js","assets/AdminLogin-B68GyGZS.js","assets/ApiDebug-U29LdJ55.js","assets/DebugPackages-EMQshBqN.js","assets/ComprehensiveDebug-BP4Gewh8.js","assets/ApiUrlTester-Bme7-PS2.js"])))=>i.map(i=>d[i]);
var gt=t=>{throw TypeError(t)};var Xe=(t,e,s)=>e.has(t)||gt("Cannot "+s);var i=(t,e,s)=>(Xe(t,e,"read from private field"),s?s.call(t):e.get(t)),S=(t,e,s)=>e.has(t)?gt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),N=(t,e,s,r)=>(Xe(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),k=(t,e,s)=>(Xe(t,e,"access private method"),s);var Me=(t,e,s,r)=>({set _(a){N(t,e,a,s)},get _(){return i(t,e,r)}});import{j as n,o as Rs,a as zt,b as Ue,B as _s,P as Ne,g as ks,e as Ds,h as Y,d as He,p as Fs,q as Ms,u as Ls,r as $s,i as Vs}from"./chunk-BfjTAQ50.js";import{f as qs,a as l,c as ce,b as Qs,u as lt,B as Ks,g as Us,h as _}from"./chunk-Bnqotz6N.js";import{V as Gt,c as Te,B as yt,p as Hs,u as Wt,S as D,T as Bs}from"./chunk-IFZ57GWh.js";import{X as zs,af as Yt,z as xt,N as Xt,c as Le,a7 as Gs,C as Ws,a8 as Ys,G as Xs,Z as Js,b2 as Zs,v as er,A as tr,W as sr,a9 as rr,aa as nr,_ as ar,ab as or,ac as ir,H as cr,M as lr,p as ur,t as dr,a5 as hr,b as fr,w as mr,ad as pr,x as gr,r as yr,V as xr,ae as vr,a4 as vt,q as br,Y as wr,d as jr,b3 as Nr}from"./chunk-C4Hn4TPf.js";import{$ as Tr,p as ut,A as Jt,H as Er}from"./chunk-DRwkdMO2.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();var $e={},bt;function Sr(){if(bt)return $e;bt=1;var t=qs();return $e.createRoot=t.createRoot,$e.hydrateRoot=t.hydrateRoot,$e}var Pr=Sr();const Cr="modulepreload",Ir=function(t){return"/"+t},wt={},$=function(e,s,r){let a=Promise.resolve();if(s&&s.length>0){let d=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=d(s.map(h=>{if(h=Ir(h),h in wt)return;wt[h]=!0;const g=h.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":Cr,g||(v.as="script"),v.crossOrigin="",v.href=h,p&&v.setAttribute("nonce",p),document.head.appendChild(v),g)return new Promise((T,w)=>{v.addEventListener("load",T),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(d){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=d,window.dispatchEvent(c),!c.defaultPrevented)throw d}return a.then(d=>{for(const c of d||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},Ar=1,Or=1e6;let Je=0;function Rr(){return Je=(Je+1)%Number.MAX_SAFE_INTEGER,Je.toString()}const Ze=new Map,jt=t=>{if(Ze.has(t))return;const e=setTimeout(()=>{Ze.delete(t),Pe({type:"REMOVE_TOAST",toastId:t})},Or);Ze.set(t,e)},_r=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Ar)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?jt(s):t.toasts.forEach(r=>{jt(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},Qe=[];let Ke={toasts:[]};function Pe(t){Ke=_r(Ke,t),Qe.forEach(e=>{e(Ke)})}function kr({...t}){const e=Rr(),s=a=>Pe({type:"UPDATE_TOAST",toast:{...a,id:e}}),r=()=>Pe({type:"DISMISS_TOAST",toastId:e});return Pe({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||r()}}}),{id:e,dismiss:r,update:s}}function Dr(){const[t,e]=l.useState(Ke);return l.useEffect(()=>(Qe.push(e),()=>{const s=Qe.indexOf(e);s>-1&&Qe.splice(s,1)}),[t]),{...t,toast:kr,dismiss:s=>Pe({type:"DISMISS_TOAST",toastId:s})}}function Nt(t){const e=Fr(t),s=l.forwardRef((r,a)=>{const{children:o,...d}=r,c=l.Children.toArray(o),p=c.find(Lr);if(p){const h=p.props.children,g=c.map(x=>x===p?l.Children.count(h)>1?l.Children.only(null):l.isValidElement(h)?h.props.children:null:x);return n.jsx(e,{...d,ref:a,children:l.isValidElement(h)?l.cloneElement(h,void 0,g):null})}return n.jsx(e,{...d,ref:a,children:o})});return s.displayName=`${t}.Slot`,s}function Fr(t){const e=l.forwardRef((s,r)=>{const{children:a,...o}=s;if(l.isValidElement(a)){const d=Vr(a),c=$r(o,a.props);return a.type!==l.Fragment&&(c.ref=r?Rs(r,d):d),l.cloneElement(a,c)}return l.Children.count(a)>1?l.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Mr=Symbol("radix.slottable");function Lr(t){return l.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Mr}function $r(t,e){const s={...e};for(const r in e){const a=t[r],o=e[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...c)=>{const p=o(...c);return a(...c),p}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...t,...s}}function Vr(t){var r,a;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function qr(t){const e=t+"CollectionProvider",[s,r]=zt(e),[a,o]=s(e,{collectionRef:{current:null},itemMap:new Map}),d=f=>{const{scope:u,children:m}=f,j=ce.useRef(null),b=ce.useRef(new Map).current;return n.jsx(a,{scope:u,itemMap:b,collectionRef:j,children:m})};d.displayName=e;const c=t+"CollectionSlot",p=Nt(c),h=ce.forwardRef((f,u)=>{const{scope:m,children:j}=f,b=o(c,m),y=Ue(u,b.collectionRef);return n.jsx(p,{ref:y,children:j})});h.displayName=c;const g=t+"CollectionItemSlot",x="data-radix-collection-item",v=Nt(g),T=ce.forwardRef((f,u)=>{const{scope:m,children:j,...b}=f,y=ce.useRef(null),P=Ue(u,y),C=o(g,m);return ce.useEffect(()=>(C.itemMap.set(y,{ref:y,...b}),()=>void C.itemMap.delete(y))),n.jsx(v,{[x]:"",ref:P,children:j})});T.displayName=g;function w(f){const u=o(t+"CollectionConsumer",f);return ce.useCallback(()=>{const j=u.collectionRef.current;if(!j)return[];const b=Array.from(j.querySelectorAll(`[${x}]`));return Array.from(u.itemMap.values()).sort((C,R)=>b.indexOf(C.ref.current)-b.indexOf(R.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:d,Slot:h,ItemSlot:T},w,r]}var Zt="ToastProvider",[dt,Qr,Kr]=qr("Toast"),[es]=zt("Toast",[Kr]),[Ur,ze]=es(Zt),ts=t=>{const{__scopeToast:e,label:s="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:d}=t,[c,p]=l.useState(null),[h,g]=l.useState(0),x=l.useRef(!1),v=l.useRef(!1);return s.trim(),n.jsx(dt.Provider,{scope:e,children:n.jsx(Ur,{scope:e,label:s,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:h,viewport:c,onViewportChange:p,onToastAdd:l.useCallback(()=>g(T=>T+1),[]),onToastRemove:l.useCallback(()=>g(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:v,children:d})})};ts.displayName=Zt;var ss="ToastViewport",Hr=["F8"],tt="toast.viewportPause",st="toast.viewportResume",rs=l.forwardRef((t,e)=>{const{__scopeToast:s,hotkey:r=Hr,label:a="Notifications ({hotkey})",...o}=t,d=ze(ss,s),c=Qr(s),p=l.useRef(null),h=l.useRef(null),g=l.useRef(null),x=l.useRef(null),v=Ue(e,x,d.onViewportChange),T=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=d.toastCount>0;l.useEffect(()=>{const u=m=>{var b;r.length!==0&&r.every(y=>m[y]||m.code===y)&&((b=x.current)==null||b.focus())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[r]),l.useEffect(()=>{const u=p.current,m=x.current;if(w&&u&&m){const j=()=>{if(!d.isClosePausedRef.current){const C=new CustomEvent(tt);m.dispatchEvent(C),d.isClosePausedRef.current=!0}},b=()=>{if(d.isClosePausedRef.current){const C=new CustomEvent(st);m.dispatchEvent(C),d.isClosePausedRef.current=!1}},y=C=>{!u.contains(C.relatedTarget)&&b()},P=()=>{u.contains(document.activeElement)||b()};return u.addEventListener("focusin",j),u.addEventListener("focusout",y),u.addEventListener("pointermove",j),u.addEventListener("pointerleave",P),window.addEventListener("blur",j),window.addEventListener("focus",b),()=>{u.removeEventListener("focusin",j),u.removeEventListener("focusout",y),u.removeEventListener("pointermove",j),u.removeEventListener("pointerleave",P),window.removeEventListener("blur",j),window.removeEventListener("focus",b)}}},[w,d.isClosePausedRef]);const f=l.useCallback(({tabbingDirection:u})=>{const j=c().map(b=>{const y=b.ref.current,P=[y,...an(y)];return u==="forwards"?P:P.reverse()});return(u==="forwards"?j.reverse():j).flat()},[c]);return l.useEffect(()=>{const u=x.current;if(u){const m=j=>{var P,C,R;const b=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!b){const B=document.activeElement,V=j.shiftKey;if(j.target===u&&V){(P=h.current)==null||P.focus();return}const ie=f({tabbingDirection:V?"backwards":"forwards"}),ke=ie.findIndex(E=>E===B);et(ie.slice(ke+1))?j.preventDefault():V?(C=h.current)==null||C.focus():(R=g.current)==null||R.focus()}};return u.addEventListener("keydown",m),()=>u.removeEventListener("keydown",m)}},[c,f]),n.jsxs(_s,{ref:p,role:"region","aria-label":a.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&n.jsx(rt,{ref:h,onFocusFromOutsideViewport:()=>{const u=f({tabbingDirection:"forwards"});et(u)}}),n.jsx(dt.Slot,{scope:s,children:n.jsx(Ne.ol,{tabIndex:-1,...o,ref:v})}),w&&n.jsx(rt,{ref:g,onFocusFromOutsideViewport:()=>{const u=f({tabbingDirection:"backwards"});et(u)}})]})});rs.displayName=ss;var ns="ToastFocusProxy",rt=l.forwardRef((t,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...a}=t,o=ze(ns,s);return n.jsx(Gt,{tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:d=>{var h;const c=d.relatedTarget;!((h=o.viewport)!=null&&h.contains(c))&&r()}})});rt.displayName=ns;var _e="Toast",Br="toast.swipeStart",zr="toast.swipeMove",Gr="toast.swipeCancel",Wr="toast.swipeEnd",as=l.forwardRef((t,e)=>{const{forceMount:s,open:r,defaultOpen:a,onOpenChange:o,...d}=t,[c,p]=ks({prop:r,defaultProp:a??!0,onChange:o,caller:_e});return n.jsx(Ds,{present:s||c,children:n.jsx(Jr,{open:c,...d,ref:e,onClose:()=>p(!1),onPause:He(t.onPause),onResume:He(t.onResume),onSwipeStart:Y(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(t.onSwipeMove,h=>{const{x:g,y:x}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:Y(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(t.onSwipeEnd,h=>{const{x:g,y:x}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),p(!1)})})})});as.displayName=_e;var[Yr,Xr]=es(_e,{onClose(){}}),Jr=l.forwardRef((t,e)=>{const{__scopeToast:s,type:r="foreground",duration:a,open:o,onClose:d,onEscapeKeyDown:c,onPause:p,onResume:h,onSwipeStart:g,onSwipeMove:x,onSwipeCancel:v,onSwipeEnd:T,...w}=t,f=ze(_e,s),[u,m]=l.useState(null),j=Ue(e,E=>m(E)),b=l.useRef(null),y=l.useRef(null),P=a||f.duration,C=l.useRef(0),R=l.useRef(P),B=l.useRef(0),{onToastAdd:V,onToastRemove:I}=f,L=He(()=>{var q;(u==null?void 0:u.contains(document.activeElement))&&((q=f.viewport)==null||q.focus()),d()}),ie=l.useCallback(E=>{!E||E===1/0||(window.clearTimeout(B.current),C.current=new Date().getTime(),B.current=window.setTimeout(L,E))},[L]);l.useEffect(()=>{const E=f.viewport;if(E){const q=()=>{ie(R.current),h==null||h()},Z=()=>{const Ee=new Date().getTime()-C.current;R.current=R.current-Ee,window.clearTimeout(B.current),p==null||p()};return E.addEventListener(tt,Z),E.addEventListener(st,q),()=>{E.removeEventListener(tt,Z),E.removeEventListener(st,q)}}},[f.viewport,P,p,h,ie]),l.useEffect(()=>{o&&!f.isClosePausedRef.current&&ie(P)},[o,P,f.isClosePausedRef,ie]),l.useEffect(()=>(V(),()=>I()),[V,I]);const ke=l.useMemo(()=>u?ds(u):null,[u]);return f.viewport?n.jsxs(n.Fragment,{children:[ke&&n.jsx(Zr,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:ke}),n.jsx(Yr,{scope:s,onClose:L,children:Qs.createPortal(n.jsx(dt.ItemSlot,{scope:s,children:n.jsx(Fs,{asChild:!0,onEscapeKeyDown:Y(c,()=>{f.isFocusedToastEscapeKeyDownRef.current||L(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Ne.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":f.swipeDirection,...w,ref:j,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Y(t.onKeyDown,E=>{E.key==="Escape"&&(c==null||c(E.nativeEvent),E.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Y(t.onPointerDown,E=>{E.button===0&&(b.current={x:E.clientX,y:E.clientY})}),onPointerMove:Y(t.onPointerMove,E=>{if(!b.current)return;const q=E.clientX-b.current.x,Z=E.clientY-b.current.y,Ee=!!y.current,Se=["left","right"].includes(f.swipeDirection),De=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,As=Se?De(0,q):0,Os=Se?0:De(0,Z),Ye=E.pointerType==="touch"?10:2,Fe={x:As,y:Os},pt={originalEvent:E,delta:Fe};Ee?(y.current=Fe,Ve(zr,x,pt,{discrete:!1})):Tt(Fe,f.swipeDirection,Ye)?(y.current=Fe,Ve(Br,g,pt,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(q)>Ye||Math.abs(Z)>Ye)&&(b.current=null)}),onPointerUp:Y(t.onPointerUp,E=>{const q=y.current,Z=E.target;if(Z.hasPointerCapture(E.pointerId)&&Z.releasePointerCapture(E.pointerId),y.current=null,b.current=null,q){const Ee=E.currentTarget,Se={originalEvent:E,delta:q};Tt(q,f.swipeDirection,f.swipeThreshold)?Ve(Wr,T,Se,{discrete:!0}):Ve(Gr,v,Se,{discrete:!0}),Ee.addEventListener("click",De=>De.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),Zr=t=>{const{__scopeToast:e,children:s,...r}=t,a=ze(_e,e),[o,d]=l.useState(!1),[c,p]=l.useState(!1);return rn(()=>d(!0)),l.useEffect(()=>{const h=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:n.jsx(Ms,{asChild:!0,children:n.jsx(Gt,{...r,children:o&&n.jsxs(n.Fragment,{children:[a.label," ",s]})})})},en="ToastTitle",os=l.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t;return n.jsx(Ne.div,{...r,ref:e})});os.displayName=en;var tn="ToastDescription",is=l.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t;return n.jsx(Ne.div,{...r,ref:e})});is.displayName=tn;var sn="ToastAction",cs=l.forwardRef((t,e)=>{const{altText:s,...r}=t;return s.trim()?n.jsx(us,{altText:s,asChild:!0,children:n.jsx(ht,{...r,ref:e})}):null});cs.displayName=sn;var ls="ToastClose",ht=l.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t,a=Xr(ls,s);return n.jsx(us,{asChild:!0,children:n.jsx(Ne.button,{type:"button",...r,ref:e,onClick:Y(t.onClick,a.onClose)})})});ht.displayName=ls;var us=l.forwardRef((t,e)=>{const{__scopeToast:s,altText:r,...a}=t;return n.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:e})});function ds(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),nn(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const d=r.dataset.radixToastAnnounceAlt;d&&e.push(d)}else e.push(...ds(r))}}),e}function Ve(t,e,s,{discrete:r}){const a=s.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});e&&a.addEventListener(t,e,{once:!0}),r?$s(a,o):a.dispatchEvent(o)}var Tt=(t,e,s=0)=>{const r=Math.abs(t.x),a=Math.abs(t.y),o=r>a;return e==="left"||e==="right"?o&&r>s:!o&&a>s};function rn(t=()=>{}){const e=He(t);Ls(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[e])}function nn(t){return t.nodeType===t.ELEMENT_NODE}function an(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function et(t){const e=document.activeElement;return t.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var on=ts,hs=rs,fs=as,ms=os,ps=is,gs=cs,ys=ht;const cn=on,xs=l.forwardRef(({className:t,...e},s)=>n.jsx(hs,{ref:s,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xs.displayName=hs.displayName;const ln=Vs("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vs=l.forwardRef(({className:t,variant:e,...s},r)=>n.jsx(fs,{ref:r,className:Te(ln({variant:e}),t),...s}));vs.displayName=fs.displayName;const un=l.forwardRef(({className:t,...e},s)=>n.jsx(gs,{ref:s,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));un.displayName=gs.displayName;const bs=l.forwardRef(({className:t,...e},s)=>n.jsx(ys,{ref:s,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:n.jsx(zs,{className:"h-4 w-4"})}));bs.displayName=ys.displayName;const ws=l.forwardRef(({className:t,...e},s)=>n.jsx(ms,{ref:s,className:Te("text-sm font-semibold",t),...e}));ws.displayName=ms.displayName;const js=l.forwardRef(({className:t,...e},s)=>n.jsx(ps,{ref:s,className:Te("text-sm opacity-90",t),...e}));js.displayName=ps.displayName;function dn(){const{toasts:t}=Dr();return n.jsxs(cn,{children:[t.map(function({id:e,title:s,description:r,action:a,...o}){return n.jsxs(vs,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(ws,{children:s}),r&&n.jsx(js,{children:r})]}),a,n.jsx(bs,{})]},e)}),n.jsx(xs,{})]})}var Et=["light","dark"],hn="(prefers-color-scheme: dark)",fn=l.createContext(void 0),mn={setTheme:t=>{},themes:[]},pn=()=>{var t;return(t=l.useContext(fn))!=null?t:mn};l.memo(({forcedTheme:t,storageKey:e,attribute:s,enableSystem:r,enableColorScheme:a,defaultTheme:o,value:d,attrs:c,nonce:p})=>{let h=o==="system",g=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,x=a?Et.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(w,f=!1,u=!0)=>{let m=d?d[w]:w,j=f?w+"|| ''":`'${m}'`,b="";return a&&u&&!f&&Et.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),s==="class"?f||m?b+=`c.add(${j})`:b+="null":m&&(b+=`d[s](n,${j})`),b},T=t?`!function(){${g}${v(t)}}()`:r?`!function(){try{${g}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${hn}',m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${d?`var x=${JSON.stringify(d)};`:""}${v(d?"x[e]":"e",!0)}}${h?"":"else{"+v(o,!1,!1)+"}"}${x}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${e}');if(e){${d?`var x=${JSON.stringify(d)};`:""}${v(d?"x[e]":"e",!0)}}else{${v(o,!1,!1)};}${x}}catch(t){}}();`;return l.createElement("script",{nonce:p,dangerouslySetInnerHTML:{__html:T}})});const gn=({...t})=>{const{theme:e="system"}=pn();return n.jsx(Tr,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Ge=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yn={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},te,ct,Lt,xn=(Lt=class{constructor(){S(this,te,yn);S(this,ct,!1)}setTimeoutProvider(t){N(this,te,t)}setTimeout(t,e){return i(this,te).setTimeout(t,e)}clearTimeout(t){i(this,te).clearTimeout(t)}setInterval(t,e){return i(this,te).setInterval(t,e)}clearInterval(t){i(this,te).clearInterval(t)}},te=new WeakMap,ct=new WeakMap,Lt),nt=new xn;function vn(t){setTimeout(t,0)}var We=typeof window>"u"||"Deno"in globalThis;function K(){}function bn(t,e){return typeof t=="function"?t(e):t}function wn(t){return typeof t=="number"&&t>=0&&t!==1/0}function jn(t,e){return Math.max(t+(e||0)-Date.now(),0)}function at(t,e){return typeof t=="function"?t(e):t}function Nn(t,e){return typeof t=="function"?t(e):t}function St(t,e){const{type:s="all",exact:r,fetchStatus:a,predicate:o,queryKey:d,stale:c}=t;if(d){if(r){if(e.queryHash!==ft(d,e.options))return!1}else if(!Ie(e.queryKey,d))return!1}if(s!=="all"){const p=e.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||a&&a!==e.state.fetchStatus||o&&!o(e))}function Pt(t,e){const{exact:s,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(s){if(Ce(e.options.mutationKey)!==Ce(o))return!1}else if(!Ie(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function ft(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ce)(t)}function Ce(t){return JSON.stringify(t,(e,s)=>ot(s)?Object.keys(s).sort().reduce((r,a)=>(r[a]=s[a],r),{}):s)}function Ie(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>Ie(t[s],e[s])):!1}var Tn=Object.prototype.hasOwnProperty;function Ns(t,e){if(t===e)return t;const s=Ct(t)&&Ct(e);if(!s&&!(ot(t)&&ot(e)))return e;const a=(s?t:Object.keys(t)).length,o=s?e:Object.keys(e),d=o.length,c=s?new Array(d):{};let p=0;for(let h=0;h<d;h++){const g=s?h:o[h],x=t[g],v=e[g];if(x===v){c[g]=x,(s?h<a:Tn.call(t,g))&&p++;continue}if(x===null||v===null||typeof x!="object"||typeof v!="object"){c[g]=v;continue}const T=Ns(x,v);c[g]=T,T===x&&p++}return a===d&&p===a?t:c}function Ct(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ot(t){if(!It(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!It(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function It(t){return Object.prototype.toString.call(t)==="[object Object]"}function En(t){return new Promise(e=>{nt.setTimeout(e,t)})}function Sn(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Ns(t,e):e}function Pn(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function Cn(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var mt=Symbol();function Ts(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mt?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var le,se,pe,$t,In=($t=class extends Ge{constructor(){super();S(this,le);S(this,se);S(this,pe);N(this,pe,e=>{if(!We&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){i(this,se)||this.setEventListener(i(this,pe))}onUnsubscribe(){var e;this.hasListeners()||((e=i(this,se))==null||e.call(this),N(this,se,void 0))}setEventListener(e){var s;N(this,pe,e),(s=i(this,se))==null||s.call(this),N(this,se,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){i(this,le)!==e&&(N(this,le,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof i(this,le)=="boolean"?i(this,le):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},le=new WeakMap,se=new WeakMap,pe=new WeakMap,$t),Es=new In;function An(){let t,e;const s=new Promise((a,o)=>{t=a,e=o});s.status="pending",s.catch(()=>{});function r(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},s.reject=a=>{r({status:"rejected",reason:a}),e(a)},s}var On=vn;function Rn(){let t=[],e=0,s=c=>{c()},r=c=>{c()},a=On;const o=c=>{e?t.push(c):a(()=>{s(c)})},d=()=>{const c=t;t=[],c.length&&a(()=>{r(()=>{c.forEach(p=>{s(p)})})})};return{batch:c=>{let p;e++;try{p=c()}finally{e--,e||d()}return p},batchCalls:c=>(...p)=>{o(()=>{c(...p)})},schedule:o,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{a=c}}}var M=Rn(),ge,re,ye,Vt,_n=(Vt=class extends Ge{constructor(){super();S(this,ge,!0);S(this,re);S(this,ye);N(this,ye,e=>{if(!We&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){i(this,re)||this.setEventListener(i(this,ye))}onUnsubscribe(){var e;this.hasListeners()||((e=i(this,re))==null||e.call(this),N(this,re,void 0))}setEventListener(e){var s;N(this,ye,e),(s=i(this,re))==null||s.call(this),N(this,re,e(this.setOnline.bind(this)))}setOnline(e){i(this,ge)!==e&&(N(this,ge,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return i(this,ge)}},ge=new WeakMap,re=new WeakMap,ye=new WeakMap,Vt),Be=new _n;function kn(t){return Math.min(1e3*2**t,3e4)}function Ss(t){return(t??"online")==="online"?Be.isOnline():!0}var it=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ps(t){let e=!1,s=0,r;const a=An(),o=()=>a.status!=="pending",d=f=>{var u;if(!o()){const m=new it(f);v(m),(u=t.onCancel)==null||u.call(t,m)}},c=()=>{e=!0},p=()=>{e=!1},h=()=>Es.isFocused()&&(t.networkMode==="always"||Be.isOnline())&&t.canRun(),g=()=>Ss(t.networkMode)&&t.canRun(),x=f=>{o()||(r==null||r(),a.resolve(f))},v=f=>{o()||(r==null||r(),a.reject(f))},T=()=>new Promise(f=>{var u;r=m=>{(o()||h())&&f(m)},(u=t.onPause)==null||u.call(t)}).then(()=>{var f;r=void 0,o()||(f=t.onContinue)==null||f.call(t)}),w=()=>{if(o())return;let f;const u=s===0?t.initialPromise:void 0;try{f=u??t.fn()}catch(m){f=Promise.reject(m)}Promise.resolve(f).then(x).catch(m=>{var C;if(o())return;const j=t.retry??(We?0:3),b=t.retryDelay??kn,y=typeof b=="function"?b(s,m):b,P=j===!0||typeof j=="number"&&s<j||typeof j=="function"&&j(s,m);if(e||!P){v(m);return}s++,(C=t.onFail)==null||C.call(t,s,m),En(y).then(()=>h()?void 0:T()).then(()=>{e?v(m):w()})})};return{promise:a,status:()=>a.status,cancel:d,continue:()=>(r==null||r(),a),cancelRetry:c,continueRetry:p,canStart:g,start:()=>(g()?w():T().then(w),a)}}var ue,qt,Cs=(qt=class{constructor(){S(this,ue)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wn(this.gcTime)&&N(this,ue,nt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(We?1/0:300*1e3))}clearGcTimeout(){i(this,ue)&&(nt.clearTimeout(i(this,ue)),N(this,ue,void 0))}},ue=new WeakMap,qt),de,xe,Q,he,O,Ae,fe,U,X,Qt,Dn=(Qt=class extends Cs{constructor(e){super();S(this,U);S(this,de);S(this,xe);S(this,Q);S(this,he);S(this,O);S(this,Ae);S(this,fe);N(this,fe,!1),N(this,Ae,e.defaultOptions),this.setOptions(e.options),this.observers=[],N(this,he,e.client),N(this,Q,i(this,he).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,N(this,de,Ot(this.options)),this.state=e.state??i(this,de),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=i(this,O))==null?void 0:e.promise}setOptions(e){if(this.options={...i(this,Ae),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Ot(this.options);s.data!==void 0&&(this.setState(At(s.data,s.dataUpdatedAt)),N(this,de,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&i(this,Q).remove(this)}setData(e,s){const r=Sn(this.state.data,e,this.options);return k(this,U,X).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){k(this,U,X).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,a;const s=(r=i(this,O))==null?void 0:r.promise;return(a=i(this,O))==null||a.cancel(e),s?s.then(K).catch(K):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(i(this,de))}isActive(){return this.observers.some(e=>Nn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>at(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!jn(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=i(this,O))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=i(this,O))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),i(this,Q).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(i(this,O)&&(i(this,fe)?i(this,O).cancel({revert:!0}):i(this,O).cancelRetry()),this.scheduleGc()),i(this,Q).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,U,X).call(this,{type:"invalidate"})}async fetch(e,s){var p,h,g,x,v,T,w,f,u,m,j,b;if(this.state.fetchStatus!=="idle"&&((p=i(this,O))==null?void 0:p.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(i(this,O))return i(this,O).continueRetry(),i(this,O).promise}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(P=>P.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,a=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(N(this,fe,!0),r.signal)})},o=()=>{const y=Ts(this.options,s),C=(()=>{const R={client:i(this,he),queryKey:this.queryKey,meta:this.meta};return a(R),R})();return N(this,fe,!1),this.options.persister?this.options.persister(y,C,this):y(C)},c=(()=>{const y={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:i(this,he),state:this.state,fetchFn:o};return a(y),y})();(h=this.options.behavior)==null||h.onFetch(c,this),N(this,xe,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=c.fetchOptions)==null?void 0:g.meta))&&k(this,U,X).call(this,{type:"fetch",meta:(x=c.fetchOptions)==null?void 0:x.meta}),N(this,O,Ps({initialPromise:s==null?void 0:s.initialPromise,fn:c.fetchFn,onCancel:y=>{y instanceof it&&y.revert&&this.setState({...i(this,xe),fetchStatus:"idle"}),r.abort()},onFail:(y,P)=>{k(this,U,X).call(this,{type:"failed",failureCount:y,error:P})},onPause:()=>{k(this,U,X).call(this,{type:"pause"})},onContinue:()=>{k(this,U,X).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const y=await i(this,O).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(T=(v=i(this,Q).config).onSuccess)==null||T.call(v,y,this),(f=(w=i(this,Q).config).onSettled)==null||f.call(w,y,this.state.error,this),y}catch(y){if(y instanceof it){if(y.silent)return i(this,O).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw k(this,U,X).call(this,{type:"error",error:y}),(m=(u=i(this,Q).config).onError)==null||m.call(u,y,this),(b=(j=i(this,Q).config).onSettled)==null||b.call(j,this.state.data,y,this),y}finally{this.scheduleGc()}}},de=new WeakMap,xe=new WeakMap,Q=new WeakMap,he=new WeakMap,O=new WeakMap,Ae=new WeakMap,fe=new WeakMap,U=new WeakSet,X=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Fn(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...At(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return N(this,xe,e.manual?a:void 0),a;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),M.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),i(this,Q).notify({query:this,type:"updated",action:e})})},Qt);function Fn(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ss(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function At(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ot(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function Rt(t){return{onFetch:(e,s)=>{var g,x,v,T,w;const r=e.options,a=(v=(x=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:x.fetchMore)==null?void 0:v.direction,o=((T=e.state.data)==null?void 0:T.pages)||[],d=((w=e.state.data)==null?void 0:w.pageParams)||[];let c={pages:[],pageParams:[]},p=0;const h=async()=>{let f=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},m=Ts(e.options,e.fetchOptions),j=async(b,y,P)=>{if(f)return Promise.reject();if(y==null&&b.pages.length)return Promise.resolve(b);const R=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:y,direction:P?"backward":"forward",meta:e.options.meta};return u(L),L})(),B=await m(R),{maxPages:V}=e.options,I=P?Cn:Pn;return{pages:I(b.pages,B,V),pageParams:I(b.pageParams,y,V)}};if(a&&o.length){const b=a==="backward",y=b?Mn:_t,P={pages:o,pageParams:d},C=y(r,P);c=await j(P,C,b)}else{const b=t??o.length;do{const y=p===0?d[0]??r.initialPageParam:_t(r,c);if(p>0&&y==null)break;c=await j(c,y),p++}while(p<b)}return c};e.options.persister?e.fetchFn=()=>{var f,u;return(u=(f=e.options).persister)==null?void 0:u.call(f,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=h}}}function _t(t,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,s[r],s):void 0}function Mn(t,{pages:e,pageParams:s}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s):void 0}var Oe,z,F,me,G,ee,Kt,Ln=(Kt=class extends Cs{constructor(e){super();S(this,G);S(this,Oe);S(this,z);S(this,F);S(this,me);N(this,Oe,e.client),this.mutationId=e.mutationId,N(this,F,e.mutationCache),N(this,z,[]),this.state=e.state||$n(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){i(this,z).includes(e)||(i(this,z).push(e),this.clearGcTimeout(),i(this,F).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){N(this,z,i(this,z).filter(s=>s!==e)),this.scheduleGc(),i(this,F).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){i(this,z).length||(this.state.status==="pending"?this.scheduleGc():i(this,F).remove(this))}continue(){var e;return((e=i(this,me))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var d,c,p,h,g,x,v,T,w,f,u,m,j,b,y,P,C,R,B,V;const s=()=>{k(this,G,ee).call(this,{type:"continue"})},r={client:i(this,Oe),meta:this.options.meta,mutationKey:this.options.mutationKey};N(this,me,Ps({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(I,L)=>{k(this,G,ee).call(this,{type:"failed",failureCount:I,error:L})},onPause:()=>{k(this,G,ee).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>i(this,F).canRun(this)}));const a=this.state.status==="pending",o=!i(this,me).canStart();try{if(a)s();else{k(this,G,ee).call(this,{type:"pending",variables:e,isPaused:o}),await((c=(d=i(this,F).config).onMutate)==null?void 0:c.call(d,e,this,r));const L=await((h=(p=this.options).onMutate)==null?void 0:h.call(p,e,r));L!==this.state.context&&k(this,G,ee).call(this,{type:"pending",context:L,variables:e,isPaused:o})}const I=await i(this,me).start();return await((x=(g=i(this,F).config).onSuccess)==null?void 0:x.call(g,I,e,this.state.context,this,r)),await((T=(v=this.options).onSuccess)==null?void 0:T.call(v,I,e,this.state.context,r)),await((f=(w=i(this,F).config).onSettled)==null?void 0:f.call(w,I,null,this.state.variables,this.state.context,this,r)),await((m=(u=this.options).onSettled)==null?void 0:m.call(u,I,null,e,this.state.context,r)),k(this,G,ee).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(j=i(this,F).config).onError)==null?void 0:b.call(j,I,e,this.state.context,this,r)),await((P=(y=this.options).onError)==null?void 0:P.call(y,I,e,this.state.context,r)),await((R=(C=i(this,F).config).onSettled)==null?void 0:R.call(C,void 0,I,this.state.variables,this.state.context,this,r)),await((V=(B=this.options).onSettled)==null?void 0:V.call(B,void 0,I,e,this.state.context,r)),I}finally{k(this,G,ee).call(this,{type:"error",error:I})}}finally{i(this,F).runNext(this)}}},Oe=new WeakMap,z=new WeakMap,F=new WeakMap,me=new WeakMap,G=new WeakSet,ee=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),M.batch(()=>{i(this,z).forEach(r=>{r.onMutationUpdate(e)}),i(this,F).notify({mutation:this,type:"updated",action:e})})},Kt);function $n(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var J,H,Re,Ut,Vn=(Ut=class extends Ge{constructor(e={}){super();S(this,J);S(this,H);S(this,Re);this.config=e,N(this,J,new Set),N(this,H,new Map),N(this,Re,0)}build(e,s,r){const a=new Ln({client:e,mutationCache:this,mutationId:++Me(this,Re)._,options:e.defaultMutationOptions(s),state:r});return this.add(a),a}add(e){i(this,J).add(e);const s=qe(e);if(typeof s=="string"){const r=i(this,H).get(s);r?r.push(e):i(this,H).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(i(this,J).delete(e)){const s=qe(e);if(typeof s=="string"){const r=i(this,H).get(s);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&i(this,H).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=qe(e);if(typeof s=="string"){const r=i(this,H).get(s),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const s=qe(e);if(typeof s=="string"){const a=(r=i(this,H).get(s))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){M.batch(()=>{i(this,J).forEach(e=>{this.notify({type:"removed",mutation:e})}),i(this,J).clear(),i(this,H).clear()})}getAll(){return Array.from(i(this,J))}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Pt(s,r))}findAll(e={}){return this.getAll().filter(s=>Pt(e,s))}notify(e){M.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return M.batch(()=>Promise.all(e.map(s=>s.continue().catch(K))))}},J=new WeakMap,H=new WeakMap,Re=new WeakMap,Ut);function qe(t){var e;return(e=t.options.scope)==null?void 0:e.id}var W,Ht,qn=(Ht=class extends Ge{constructor(e={}){super();S(this,W);this.config=e,N(this,W,new Map)}build(e,s,r){const a=s.queryKey,o=s.queryHash??ft(a,s);let d=this.get(o);return d||(d=new Dn({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(d)),d}add(e){i(this,W).has(e.queryHash)||(i(this,W).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=i(this,W).get(e.queryHash);s&&(e.destroy(),s===e&&i(this,W).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){M.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return i(this,W).get(e)}getAll(){return[...i(this,W).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>St(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>St(e,r)):s}notify(e){M.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){M.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){M.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},W=new WeakMap,Ht),A,ne,ae,ve,be,oe,we,je,Bt,Qn=(Bt=class{constructor(t={}){S(this,A);S(this,ne);S(this,ae);S(this,ve);S(this,be);S(this,oe);S(this,we);S(this,je);N(this,A,t.queryCache||new qn),N(this,ne,t.mutationCache||new Vn),N(this,ae,t.defaultOptions||{}),N(this,ve,new Map),N(this,be,new Map),N(this,oe,0)}mount(){Me(this,oe)._++,i(this,oe)===1&&(N(this,we,Es.subscribe(async t=>{t&&(await this.resumePausedMutations(),i(this,A).onFocus())})),N(this,je,Be.subscribe(async t=>{t&&(await this.resumePausedMutations(),i(this,A).onOnline())})))}unmount(){var t,e;Me(this,oe)._--,i(this,oe)===0&&((t=i(this,we))==null||t.call(this),N(this,we,void 0),(e=i(this,je))==null||e.call(this),N(this,je,void 0))}isFetching(t){return i(this,A).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return i(this,ne).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=i(this,A).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=i(this,A).build(this,e),r=s.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(at(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return i(this,A).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),a=i(this,A).get(r.queryHash),o=a==null?void 0:a.state.data,d=bn(e,o);if(d!==void 0)return i(this,A).build(this,r).setData(d,{...s,manual:!0})}setQueriesData(t,e,s){return M.batch(()=>i(this,A).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=i(this,A).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=i(this,A);M.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=i(this,A);return M.batch(()=>(s.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},r=M.batch(()=>i(this,A).findAll(t).map(a=>a.cancel(s)));return Promise.all(r).then(K).catch(K)}invalidateQueries(t,e={}){return M.batch(()=>(i(this,A).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},r=M.batch(()=>i(this,A).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,s);return s.throwOnError||(o=o.catch(K)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(K)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=i(this,A).build(this,e);return s.isStaleByTime(at(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(K).catch(K)}fetchInfiniteQuery(t){return t.behavior=Rt(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(K).catch(K)}ensureInfiniteQueryData(t){return t.behavior=Rt(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Be.isOnline()?i(this,ne).resumePausedMutations():Promise.resolve()}getQueryCache(){return i(this,A)}getMutationCache(){return i(this,ne)}getDefaultOptions(){return i(this,ae)}setDefaultOptions(t){N(this,ae,t)}setQueryDefaults(t,e){i(this,ve).set(Ce(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...i(this,ve).values()],s={};return e.forEach(r=>{Ie(t,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(t,e){i(this,be).set(Ce(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...i(this,be).values()],s={};return e.forEach(r=>{Ie(t,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...i(this,ae).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ft(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mt&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...i(this,ae).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){i(this,A).clear(),i(this,ne).clear()}},A=new WeakMap,ne=new WeakMap,ae=new WeakMap,ve=new WeakMap,be=new WeakMap,oe=new WeakMap,we=new WeakMap,je=new WeakMap,Bt),Kn=l.createContext(void 0),Un=({client:t,children:e})=>(l.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(Kn.Provider,{value:t,children:e}));const Hn=({images:t})=>{const e=["https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?q=80&w=2574&auto=format&fit=crop","https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=2670&auto=format&fit=crop","https://images.unsplash.com/photo-1580587771525-78b9dba3b914?q=80&w=2574&auto=format&fit=crop","https://images.unsplash.com/photo-1613977257363-3116958f136b?q=80&w=2670&auto=format&fit=crop","https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=2670&auto=format&fit=crop"],s=t&&t.length>0?t:e,[r,a,o,d,c]=s;return n.jsxs("div",{children:[n.jsx("div",{className:"block md:hidden",children:n.jsxs("div",{className:"relative w-full h-[40vh] rounded-xl overflow-hidden",children:[n.jsx("img",{src:r||"/placeholder.svg",alt:"Villa",className:"w-full h-full object-cover",fetchpriority:"high"}),s.length>1&&n.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:n.jsx("div",{className:"flex space-x-2",children:s.slice(0,5).map((p,h)=>n.jsx("div",{className:"w-2 h-2 rounded-full bg-white/60"},h))})})]})}),n.jsxs("div",{className:"hidden md:grid grid-cols-4 grid-rows-2 gap-2 h-[55vh] rounded-xl overflow-hidden",children:[n.jsx("div",{className:"col-span-2 row-span-2",children:n.jsx("img",{src:r||"/placeholder.svg",alt:"Villa",className:"w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity",fetchpriority:"high"})}),n.jsx("div",{className:"col-span-1 row-span-1",children:n.jsx("img",{src:a||"/placeholder.svg",alt:"Villa",className:"w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity"})}),n.jsx("div",{className:"col-span-1 row-span-1",children:n.jsx("img",{src:o||"/placeholder.svg",alt:"Villa",className:"w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity"})}),n.jsx("div",{className:"col-span-1 row-span-1",children:n.jsx("img",{src:d||"/placeholder.svg",alt:"Villa",className:"w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity"})}),n.jsx("div",{className:"col-span-1 row-span-1",children:n.jsx("img",{src:c||"/placeholder.svg",alt:"Villa",className:"w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity"})})]})]})},Bn=({package:t,onSelect:e,showRoomOptions:s=!1,className:r="",dateFilters:a})=>{const o=lt(),[d,c]=l.useState([]),[p,h]=l.useState(!0),g=u=>({check:Le,"check-circle":Le,coffee:vt,utensils:wr,heart:br,"cup-soda":vt,apple:vr,wine:xr,car:yr,plane:gr,bus:pr,bike:mr,sparkles:fr,map:hr,"chef-hat":dr,sun:ur,music:lr,home:cr,mountain:ir,headphones:or,shirt:ar,clock:xt,phone:nr,archive:rr,waves:sr,activity:tr,leaf:er,dumbbell:Zs,zap:Js,gift:Xs,"party-popper":Ys,camera:Ws,flower:Gs})[u==null?void 0:u.toLowerCase()]||Le;l.useEffect(()=>{const u=async()=>{try{h(!0);const m=await fetch(Hs.buildApiUrl(`package-inclusions.php?action=list&package_id=${t.id}`));if(m.ok){const j=await m.json();j.success&&c(j.inclusions||[])}}catch{}finally{h(!1)}};t.id&&u()},[t.id]),(u=>{try{if(Array.isArray(u))return u;if(typeof u=="string"&&u.trim().length>0){const m=JSON.parse(u);return Array.isArray(m)?m:[]}return[]}catch{return[]}})(t.inclusions||t.includes);const v=parseFloat(t.discount_percentage);let T=parseFloat(t.price||t.base_price||"0");if(T===0&&t.room_options&&t.room_options.length>0){const u=t.room_options.map(m=>parseFloat(String(m.price_override||0))).filter(m=>m>0);u.length>0&&(T=Math.min(...u))}if(T===0&&t.available_rooms&&t.available_rooms.length>0){const u=t.available_rooms.map(m=>parseFloat(String(m.final_price||0))).filter(m=>m>0);u.length>0&&(T=Math.min(...u))}const w=()=>{if(e)e(t.id);else{let u=`/packages/${t.id}`;a&&(u+=`?checkin=${a.checkIn}&checkout=${a.checkOut}&guests=${a.adults+a.children}`),o(u)}},f=()=>t.images&&Array.isArray(t.images)&&t.images.length>0?t.images[0]:t.image_url?t.image_url:"/images/ui/placeholder.svg";return n.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 hover:border-blue-300 flex flex-col h-full group ${r}`,children:[n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[n.jsx("img",{src:f(),alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",fetchPriority:"high",onError:u=>{const m=u.target;m.src="/images/ui/placeholder.svg"}}),v>0&&n.jsx("div",{className:"absolute top-4 right-4",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-red-600 text-white shadow-sm",children:[n.jsx(Yt,{className:"h-3 w-3 mr-1"}),t.discount_display]})}),n.jsx("div",{className:"absolute top-4 left-4",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-hotel-gold text-white shadow-sm",children:ut.getPackageTypeDisplayName(t.type||t.package_type)})}),n.jsxs("div",{className:"absolute bottom-4 right-4 bg-slate-900 text-white px-4 py-2 rounded-2xl shadow-lg",children:[n.jsxs("span",{className:"text-lg font-bold",children:["$",T.toFixed(0)]}),n.jsx("span",{className:"text-[10px] opacity-70 ml-1",children:"/ night"})]})]})}),n.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3 line-clamp-1 text-hotel-navy",children:t.name}),n.jsx("p",{className:"text-sm text-hotel-bronze mb-6 line-clamp-2 leading-relaxed",children:t.description}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex items-center text-sm text-hotel-bronze",children:[n.jsx(xt,{className:"h-4 w-4 mr-3 text-hotel-gold"}),n.jsxs("span",{className:"font-medium",children:[t.min_nights||1,"-",t.max_nights||7," nights"]})]}),n.jsxs("div",{className:"flex items-center text-sm text-hotel-bronze",children:[n.jsx(Xt,{className:"h-4 w-4 mr-3 text-hotel-gold"}),n.jsxs("span",{className:"font-medium",children:["Up to ",t.max_guests||2," guests"]})]})]}),!p&&d.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center text-gray-900",children:[n.jsx(Le,{className:"h-4 w-4 mr-2 text-green-600"}),"What's Included:"]}),n.jsxs("div",{className:"space-y-2",children:[d.slice(0,4).map(u=>{const m=g(u.icon);return n.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[n.jsx(m,{className:"h-4 w-4 mr-3 text-green-600 flex-shrink-0"}),n.jsx("span",{className:"line-clamp-1",children:u.name})]},u.inclusion_id)}),d.length>4&&n.jsxs("div",{className:"text-sm text-gray-500 font-medium",children:["+",d.length-4," more inclusions"]})]})]})]}),n.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 mt-auto",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx(yt,{variant:"outline",onClick:()=>o(`/packages/${t.id}`),className:"flex-1 bg-white text-hotel-bronze border-hotel-gold px-4 py-2 rounded-lg hover:bg-hotel-cream transition-colors font-medium",children:"View Details"}),n.jsx(yt,{onClick:w,className:"flex-1 bg-hotel-gold text-white px-4 py-2 rounded-lg hover:bg-hotel-gold-dark transition-colors font-medium shadow-lg",children:"Book Now"})]})})]})},zn=()=>{const[t,e]=l.useState([]),[s,r]=l.useState(!0),[a,o]=l.useState(null);return l.useEffect(()=>{(async()=>{try{const c=await Jt.getRooms();Array.isArray(c)?e(c):o("Invalid data format received")}catch{o("Failed to fetch rooms")}finally{r(!1)}})()},[]),{rooms:t,loading:s,error:a}},Gn=()=>{const[t,e]=l.useState([]),[s,r]=l.useState(!0),[a,o]=l.useState(null);return l.useEffect(()=>{(async()=>{try{r(!0),o(null);const h=(await ut.getPackages()).data.filter(g=>g.available===1||g.available===!0);h.length,e(h)}catch(c){o(c instanceof Error?c.message:"Failed to fetch packages")}finally{r(!1)}})()},[]),{packages:t,loading:s,error:a}},Wn=()=>{const{rooms:t,loading:e,error:s}=zn(),{packages:r,loading:a,error:o}=Gn(),{villaInfo:d,loading:c,error:p}=Wt(),h=f=>{if(!f)return null;const u=m=>{if(!Array.isArray(m))return[];if(m.length>0&&typeof m[0]=="object"&&m[0].name)return m;const j={"Swimming Pool":"Bath","Spa Services":"Bath",Restaurant:"CookingPot","Free WiFi":"Wifi","Airport Shuttle":"Car","Bicycle Rental":"Car","Yoga Studio":"AirVent",Library:"Flame",Garden:"AirVent",Parking:"Car","24/7 Reception":"Flame","Room Service":"CookingPot","Laundry Service":"Bath","Tour Desk":"Flame","Currency Exchange":"Flame"};return m.map(b=>({name:b,icon:j[b]||"AirVent"}))};return{id:f.id||1,name:f.name||"Villa Name Not Available",location:f.location||`${f.city||""}, ${f.country||""}`.trim().replace(/^,\s*|,\s*$/,"")||"Location Not Available",description:f.description||"Description not available from API",rating:f.rating||4.8,reviews:f.reviews||245,images:f.images||[],amenities:u(f.amenities),rooms:f.rooms||[],address:f.address||"",city:f.city||"",state:f.state||"",country:f.country||"",phone:f.phone||""}},g=l.useMemo(()=>t?Array.isArray(t)?t:[]:[],[t]),x=l.useMemo(()=>r?Array.isArray(r)?r:[]:[],[r]),v=p||s||o,T=c||e||a,w=h(d);return{safeRooms:g,safePackages:x,currentVillaData:w,isLoading:T,error:v}},Yn=()=>n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("header",{className:"mb-4",children:[n.jsx(D,{className:"h-12 w-3/4 mb-4"}),n.jsx(D,{className:"h-5 w-1/2"})]}),n.jsx("div",{className:"my-8",children:n.jsxs("div",{className:"hidden md:grid grid-cols-4 grid-rows-2 gap-2 h-[55vh] rounded-xl overflow-hidden",children:[n.jsx(D,{className:"col-span-2 row-span-2 w-full h-full"}),n.jsx(D,{className:"col-span-1 row-span-1 w-full h-full"}),n.jsx(D,{className:"col-span-1 row-span-1 w-full h-full"}),n.jsx(D,{className:"col-span-1 row-span-1 w-full h-full"}),n.jsx(D,{className:"col-span-1 row-span-1 w-full h-full"})]})}),n.jsxs("div",{className:"my-16",children:[n.jsx(D,{className:"h-10 w-1/3 mx-auto mb-2"}),n.jsx(D,{className:"h-5 w-1/2 mx-auto mb-10"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(3)].map((t,e)=>n.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[n.jsx(D,{className:"w-full h-56"}),n.jsxs("div",{className:"p-4",children:[n.jsx(D,{className:"h-7 w-3/4 mb-2"}),n.jsx(D,{className:"h-5 w-full mb-1"}),n.jsx(D,{className:"h-5 w-full mb-4"})]}),n.jsxs("div",{className:"p-4 pt-2 flex justify-between items-center bg-slate-50",children:[n.jsx(D,{className:"h-8 w-1/4"}),n.jsx(D,{className:"h-12 w-1/3"})]})]},e))})]})]}),Xn=()=>{const{villaInfo:t}=Wt();return n.jsx("footer",{className:"bg-hotel-navy text-white py-8",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-hotel-cream text-sm",children:[" ",new Date().getFullYear()," ",(t==null?void 0:t.name)||"Villa Daisy Cantik",". All rights reserved."]})})})})},Jn=({onSearch:t})=>{const e=new Date,s=new Date(e);s.setDate(s.getDate()+1);const[r,a]=l.useState({checkIn:e.toISOString().split("T")[0],checkOut:s.toISOString().split("T")[0],adults:2,children:0,promoCode:""}),[o,d]=l.useState(!1),[c,p]=l.useState(!1),h=()=>{if(!r.checkIn||!r.checkOut){alert("Please select both check-in and check-out dates");return}const x=new Date(r.checkIn);if(new Date(r.checkOut)<=x){alert("Check-out date must be after check-in date");return}t&&t(r)},g=()=>{if(r.checkIn&&r.checkOut){const x=new Date(r.checkIn),T=new Date(r.checkOut).getTime()-x.getTime(),w=Math.ceil(T/(1e3*3600*24));return w>0?w:0}return 1};return n.jsx("div",{className:"bg-white shadow-lg rounded-lg p-4 mb-8",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700",children:[n.jsx("div",{className:"w-4 h-4 bg-hotel-sage rounded mr-2"}),n.jsx("span",{children:"Rumah Daisy Cantik"})]}),n.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-200"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(jr,{className:"w-4 h-4 text-gray-500"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"date",value:r.checkIn,onChange:x=>a({...r,checkIn:x.target.value}),min:new Date().toISOString().split("T")[0],className:"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-hotel-sage"}),n.jsx("span",{className:"text-gray-400",children:"-"}),n.jsx("input",{type:"date",value:r.checkOut,onChange:x=>a({...r,checkOut:x.target.value}),min:r.checkIn||new Date().toISOString().split("T")[0],className:"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-hotel-sage"}),g()>0&&n.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:[g()," night",g()!==1?"s":""]})]})]}),n.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-200"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 px-3 py-2 rounded-md transition-colors",onClick:()=>d(!o),children:[n.jsx(Xt,{className:"w-4 h-4 text-gray-500"}),n.jsxs("span",{className:"text-sm font-medium",children:[r.adults," Adult",r.adults!==1?"s":"",r.children>0&&`, ${r.children} Child${r.children!==1?"ren":""}`]}),n.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&n.jsx("div",{className:"absolute top-full mt-2 left-0 bg-white border rounded-lg shadow-lg p-4 w-64 z-10",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Adults"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>a({...r,adults:Math.max(1,r.adults-1)}),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100",children:"-"}),n.jsx("span",{className:"w-8 text-center",children:r.adults}),n.jsx("button",{onClick:()=>a({...r,adults:r.adults+1}),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100",children:"+"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Children"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>a({...r,children:Math.max(0,r.children-1)}),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100",children:"-"}),n.jsx("span",{className:"w-8 text-center",children:r.children}),n.jsx("button",{onClick:()=>a({...r,children:r.children+1}),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100",children:"+"})]})]}),n.jsx("button",{onClick:()=>d(!1),className:"w-full bg-hotel-sage text-white py-2 rounded-md hover:bg-hotel-sage-dark transition-colors",children:"Done"})]})})]}),n.jsx("div",{className:"hidden lg:block w-px h-8 bg-gray-200"}),n.jsxs("div",{className:"relative hidden lg:block",children:[n.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 px-3 py-2 rounded-md transition-colors",onClick:()=>p(!c),children:[n.jsx(Yt,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:"text-sm text-gray-500",children:r.promoCode||"Promo code"})]}),c&&n.jsxs("div",{className:"absolute top-full mt-2 left-0 bg-white border rounded-lg shadow-lg p-4 w-48 z-10",children:[n.jsx("input",{type:"text",value:r.promoCode,onChange:x=>a({...r,promoCode:x.target.value}),placeholder:"Enter promo code",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-hotel-sage"}),n.jsx("button",{onClick:()=>p(!1),className:"w-full mt-2 bg-hotel-sage text-white py-2 rounded-md text-sm hover:bg-hotel-sage-dark transition-colors",children:"Apply"})]})]}),n.jsxs("button",{onClick:h,className:"flex items-center space-x-2 bg-hotel-sage text-white px-6 py-3 rounded-md font-medium hover:bg-hotel-sage-dark transition-colors",children:[n.jsx(Nr,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Check Availability"}),n.jsx("span",{className:"sm:hidden",children:"Search"})]})]})})},Zn=()=>{const t=lt(),e=new Date,s=new Date(e);s.setDate(s.getDate()+1);const[r,a]=l.useState({checkIn:e.toISOString().split("T")[0],checkOut:s.toISOString().split("T")[0],adults:2,children:0}),[o,d]=l.useState([]),[c,p]=l.useState(!1),{safePackages:h,currentVillaData:g,isLoading:x,error:v}=Wn();l.useEffect(()=>{!x&&h.length>0&&T({checkIn:r.checkIn,checkOut:r.checkOut,adults:r.adults,children:r.children})},[h,x]);const T=async w=>{a({checkIn:w.checkIn,checkOut:w.checkOut,adults:w.adults,children:w.children});try{p(!0);const f={};w.checkIn&&(f.check_in=w.checkIn),w.checkOut&&(f.check_out=w.checkOut);const u=await ut.getPackages(f);if(u.success){const m=w.adults+(w.children||0),j=u.data.filter(b=>b.max_guests>=m);d(j)}}catch{d([])}finally{p(!1)}};return v?n.jsxs("div",{className:"text-center py-20",children:[n.jsx("h2",{className:"text-2xl font-bold text-hotel-navy mb-4",children:"Failed to load page content"}),n.jsx("p",{className:"text-hotel-bronze mb-6",children:v}),n.jsxs("div",{className:"space-x-4",children:[n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-hotel-sage text-white px-6 py-2 rounded hover:bg-hotel-sage-dark transition-colors",children:"Retry"}),n.jsx("button",{onClick:()=>t("/"),className:"bg-hotel-bronze text-white px-6 py-2 rounded hover:bg-hotel-navy transition-colors",children:"Go Home"})]})]}):x?n.jsx(Yn,{}):g?n.jsxs("div",{className:"bg-hotel-cream min-h-screen",children:[n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("section",{className:"mb-8",children:[n.jsx(Er,{}),n.jsx("div",{className:"mb-8",children:n.jsx(Hn,{images:g.images})})]}),n.jsx("section",{className:"mb-8",children:n.jsx(Jn,{onSearch:T})}),n.jsxs("section",{className:"my-20",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"section-title",children:"Available Packages Offers"}),n.jsx("p",{className:"body-large max-w-2xl mx-auto",children:"Packages available for your selected dates"})]}),c?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),n.jsx("p",{className:"mt-4 text-hotel-bronze",children:"Checking availability..."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.length>0?o.map(w=>n.jsx(Bn,{package:w,dateFilters:r},w.id)):n.jsx("div",{className:"col-span-full text-center py-12",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[n.jsx("h3",{className:"text-xl font-semibold text-hotel-navy mb-2",children:"No Available Packages"}),n.jsx("p",{className:"text-hotel-bronze mb-4",children:"No packages are available for your selected dates. Try different dates or contact us directly."}),n.jsx("button",{onClick:()=>{const w=new Date,f=new Date(w);f.setDate(f.getDate()+1);const u={checkIn:w.toISOString().split("T")[0],checkOut:f.toISOString().split("T")[0],adults:2,children:0};a(u),T(u)},className:"bg-hotel-sage text-white px-6 py-2 rounded hover:bg-hotel-sage-dark transition-colors",children:"Reset to Today"})]})})})]})]}),n.jsx(Xn,{})]}):n.jsxs("div",{className:"text-center py-20",children:[n.jsx("h2",{className:"text-2xl font-bold text-hotel-navy mb-4",children:"Villa Information Not Available"}),n.jsx("p",{className:"text-hotel-bronze mb-6",children:"Unable to load villa data from API. Please check your connection."}),n.jsx("div",{className:"space-x-4",children:n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-hotel-sage text-white px-6 py-2 rounded hover:bg-hotel-sage-dark transition-colors",children:"Retry"})})]})},kt=({children:t})=>{const[e,s]=l.useState(()=>sessionStorage.getItem("adminLoggedIn")==="true"),r=lt();return l.useEffect(()=>{const a=()=>{sessionStorage.getItem("adminLoggedIn")==="true"?s(!0):(s(!1),setTimeout(()=>{r("/admin/login",{replace:!0})},100))},d=sessionStorage.getItem("adminLoggedIn")==="true";e!==d&&a()},[r,e]),e!==!0?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg",children:[n.jsx("p",{className:"text-red-600 font-semibold text-lg",children:" Access Denied"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Authentication required for admin access"}),n.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Status: ",e===null?"Checking...":"Not authenticated"]}),n.jsx("button",{onClick:()=>r("/admin/login"),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Go to Login"})]})})}):n.jsx(n.Fragment,{children:t})},Is="bookings",ea=l.createContext(void 0),ta=()=>{try{const t=localStorage.getItem(Is);if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch{return[]}},sa=({children:t})=>{const[e,s]=l.useState(()=>ta()),[r,a]=l.useState([]);l.useEffect(()=>{(async()=>{try{const g=await Jt.getBookings();if(Array.isArray(g)){const x=g.map(v=>({id:v.id,reference:v.reference||`BK-${v.id}`,roomId:v.room_id,from:v.check_in,to:v.check_out,guests:v.guests,user:{firstName:v.first_name,lastName:v.last_name,email:v.email,phone:v.phone||""},total:parseFloat(v.total_amount),createdAt:v.created_at}));a(x)}}catch{}})()},[]),l.useEffect(()=>{try{localStorage.setItem(Is,JSON.stringify(e))}catch{}},[e]);const o=l.useCallback(h=>{s(g=>[...g,h])},[]),d=l.useCallback(h=>[...e,...r].filter(x=>x.roomId===h),[e,r]),c=l.useCallback(()=>s([]),[]),p={bookings:[...e,...r],addBooking:o,getBookingsForRoom:d,clearAllBookings:c};return n.jsx(ea.Provider,{value:p,children:t})},Dt=l.lazy(()=>$(()=>import("./chunk-DRwkdMO2.js").then(t=>t.a),__vite__mapDeps([0,1,2,3,4]))),ra=l.lazy(()=>$(()=>import("./RoomDetails-tuUpqmTw.js"),__vite__mapDeps([5,1,2,3,4,0]))),na=l.lazy(()=>$(()=>import("./Packages-CVMxrG9Z.js"),__vite__mapDeps([6,1,2,3,4,0]))),aa=l.lazy(()=>$(()=>import("./PackageDetails-CEyAoAiH.js"),__vite__mapDeps([7,1,2,3,4,0,8]))),Ft=l.lazy(()=>$(()=>import("./chunk-DRwkdMO2.js").then(t=>t.b),__vite__mapDeps([0,1,2,3,4]))),oa=l.lazy(()=>$(()=>import("./ImageGalleryPage-B_amc3DZ.js"),__vite__mapDeps([9,1,2,3,4,0]))),Mt=l.lazy(()=>$(()=>import("./chunk-IFZ57GWh.js").then(t=>t.o),__vite__mapDeps([3,1,2,4]))),ia=l.lazy(()=>$(()=>import("./AdminLogin-B68GyGZS.js"),__vite__mapDeps([10,1,2,4]))),ca=l.lazy(()=>$(()=>import("./NotFound-CNKlI9OE.js"),__vite__mapDeps([8,1,2]))),la=l.lazy(()=>$(()=>import("./ApiDebug-U29LdJ55.js"),__vite__mapDeps([11,1,2,3,4,0]))),ua=l.lazy(()=>$(()=>import("./DebugPackages-EMQshBqN.js"),__vite__mapDeps([12,1,2,3,4,0]))),da=l.lazy(()=>$(()=>import("./ComprehensiveDebug-BP4Gewh8.js"),__vite__mapDeps([13,1,2,3,4,0]))),ha=l.lazy(()=>$(()=>import("./ApiUrlTester-Bme7-PS2.js"),__vite__mapDeps([14,1,2,3,4]))),fa=()=>n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-hotel-gold"}),n.jsx("p",{className:"text-hotel-navy",children:"Loading..."})]})}),ma=new Qn,pa=()=>n.jsx(Un,{client:ma,children:n.jsx(sa,{children:n.jsxs(Bs,{children:[n.jsx(dn,{}),n.jsx(gn,{}),n.jsx(Ks,{children:n.jsx(l.Suspense,{fallback:n.jsx(fa,{}),children:n.jsxs(Us,{children:[n.jsx(_,{path:"/",element:n.jsx(Zn,{})}),n.jsx(_,{path:"/rooms/:roomId",element:n.jsx(ra,{})}),n.jsx(_,{path:"/book/:roomId",element:n.jsx(Dt,{})}),n.jsx(_,{path:"/book",element:n.jsx(Dt,{})}),n.jsx(_,{path:"/packages",element:n.jsx(na,{})}),n.jsx(_,{path:"/packages/:packageId",element:n.jsx(aa,{})}),n.jsx(_,{path:"/summary",element:n.jsx(Ft,{})}),n.jsx(_,{path:"/confirmation/:bookingId",element:n.jsx(Ft,{})}),n.jsx(_,{path:"/admin/login",element:n.jsx(ia,{})}),n.jsx(_,{path:"/admin",element:n.jsx(kt,{children:n.jsx(Mt,{})})}),n.jsx(_,{path:"/admin/*",element:n.jsx(kt,{children:n.jsx(Mt,{})})}),n.jsx(_,{path:"/images",element:n.jsx(oa,{})}),n.jsx(_,{path:"/debug-packages",element:n.jsx(ua,{})}),n.jsx(_,{path:"/api-debug",element:n.jsx(la,{})}),n.jsx(_,{path:"/env-debug",element:n.jsx(da,{})}),n.jsx(_,{path:"/api-url-test",element:n.jsx(ha,{})}),n.jsx(_,{path:"*",element:n.jsx(ca,{})})]})})})]})})});{const t=()=>{};["log","info","debug","group","groupCollapsed","groupEnd","table","warn","error"].forEach(s=>{try{console[s]=t}catch{}}),window.__CONSOLE_DISABLED__=!0}Pr.createRoot(document.getElementById("root")).render(n.jsx(pa,{}));export{Xn as F,Hn as P,$ as _,Bn as a,Gn as b,qr as c,Wn as u};
